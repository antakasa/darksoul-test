{"mappings":"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","sources":["createHTML.js","package.json","src/App.js","src/darksoul.md","src/SubHeader.js","src/plus-feature-components/Header/Header.jsx","src/plus-feature-components/Header/Header.styled.js","src/lib/isDeviceMobile.js","src/lib/viewportFunctions.js","src/plus-feature-components/App.styled.js","src/plus-feature-components/Header/HeaderVisuals/HeaderVisuals.jsx","src/plus-feature-components/Header/HeaderVisuals/HeaderVisuals.styled.js","src/plus-feature-components/VisualComponents/Picture/PictureTag.jsx","src/plus-feature-components/VisualComponents/Picture/PictureTag.styled.js","src/plus-feature-components/VisualComponents/SharedVisualStyles.styled.js","src/lib/isUsingApp.js","src/lib/styleHandler.js","src/plus-feature-components/VisualComponents/Picture/pictureScrollFunctions.js","src/lib/errorFunctions.js","src/plus-feature-components/VisualComponents/Video/VideoTag.jsx","src/plus-feature-components/VisualComponents/Video/VideoTag.styled.js","src/plus-feature-components/VisualComponents/Video/VideoAudio.jsx","src/plus-feature-components/VisualComponents/Video/VideoPlay.jsx","src/plus-feature-components/VisualComponents/Video/videoScrollFunctions.js","src/plus-feature-components/VisualComponents/VisualHelpers/SwipingFinger.jsx","src/plus-feature-components/VisualComponents/VisualHelpers/SwipingFinger.styled.js","src/plus-feature-components/Header/ShareButtons/ShareButtons.jsx","src/plus-feature-components/Header/ShareButtons/ShareButtons.styled.js","src/plus-feature-components/VisualComponents/VisualHelpers/ProgressBar.jsx","src/plus-feature-components/VisualComponents/VisualHelpers/ProgressBar.styled.js","src/plus-feature-components/Fynd/darkSoulHeroText.js","src/plus-feature-components/Fynd/darkSoulHeroText.styled.js","src/plus-feature-components/Fynd/scrollingVideo.jsx","src/plus-feature-components/Fynd/scollingVideo.styled.js","src/plus-feature-components/Fynd/darksoulShareButtons.js","src/plus-feature-components/AuthorBox/AuthorBox.jsx","src/plus-feature-components/AuthorBox/AuthorBox.styled.js","src/plus-feature-components/Fynd/darkSoulSubheader.js","src/plus-feature-components/Fynd/darkSoulSubheader.styled.js","src/lib/dataHandleFunctions.js","src/lib/fetchIMSimage.js","Context.jsx","src/plus-feature-components/Scrolly/Scrolly.jsx","src/lib/appHeightHack.js","src/plus-feature-components/Scrolly/Scrolly.styled.js","src/plus-feature-components/Fynd/darkSoulNewChapter.js","src/plus-feature-components/Fynd/darksoulSourceList.js"],"sourcesContent":["import * as fs from \"fs\";\nimport React, {useContext} from \"react\";\nimport ReactDOMServer from \"react-dom/server\";\nimport pkg from \"./package.json\";\nimport { ServerStyleSheet } from \"styled-components\";\nconst minify = require(\"@node-minify/core\");\nconst htmlMinifier = require(\"@node-minify/html-minifier\");\nimport { App } from \"./src/App\";\nimport fetch from 'node-fetch';\nimport Context from \"./Context\";\n\nif (!globalThis.fetch) {\n\tglobalThis.fetch = fetch;\n}\n\nconst sheet = new ServerStyleSheet();\n\nconst markup = (initialData, styleTags, html) => `<!DOCTYPE html>\n<html lang=\"fi\">\n\t<head>\n\t\t<meta charset=\"UTF-8\" />\n    <meta name=\"robots\" content=\"noindex, nofollow\" />\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n\t\t<title>Demo page</title>\n\t</head>\n\t<body>${styleTags}${initialData}\n\t\t<div id=\"app\" class=\"ist\" data-yle-vis-id=\"${pkg.name}\">${html}</div>\n\t\t<script src=\"./index.js\" type=\"module\"></script>\n\t</body>\n</html>`;\n\nrender();\nasync function render() {\n  const window = {};\n\n  try {\n\n    const contextValue = { requests: [] };\n    \n    ReactDOMServer.renderToString(\n      <Context.Provider value={contextValue}> \n      <App /></Context.Provider>\n    );\n\n    await Promise.all(contextValue.requests);\n    delete contextValue.requests;\n\n\n    let initialData = `<script>window[\"${pkg.name}-initial-data\"] = ${JSON.stringify(contextValue)};</script>`\n\n    const html = ReactDOMServer.renderToString(\n      sheet.collectStyles(\n        <Context.Provider value={contextValue}>\n        <App />\n        </Context.Provider>\n      )\n    );\n    const styleTags = sheet.getStyleTags(); \n    let outputFile = \"./darksoul.html\";\n    fs.writeFileSync(outputFile, markup(initialData, styleTags, html));\n    console.log(`Wrote ${outputFile}`);\n  } catch (error) {\n    // handle error\n    console.error(error);\n  } finally {\n    sheet.seal();\n  }\n}\n","{\n  \"name\": \"2021-09-mdx-test\",\n  \"license\": \"MIT\",\n  \"browserslist\": [\n    \">0.25% in FI\",\n    \"last 1 chrome version\",\n    \"last 1 firefox version\",\n    \"Firefox ESR\",\n    \"not op_mini all\",\n    \"not dead\"\n  ],\n  \"private\": true,\n  \"yleDataviz\": {\n    \"externalContent\": false\n  },\n  \"scripts\": {\n    \"start\": \"cross-var cross-env NODE_ENV=development APP_NAME=$npm_package_name WATCHING=D parcel *.html\",\n    \"gitrepo\": \"cross-var hub create -p Yleisradio/lusi-dataviz-$npm_package_name\",\n    \"confgenerate\": \"dataviz-deploy generate --dir build --exclude *.es6.js\",\n    \"createhtml\": \"parcel watch createHTML.js --target node\",\n    \"deploy\": \"npm run build && dataviz-deploy sync lusi $npm_package_name && cross-var echo \\\"https://lusi-dataviz.ylestatic.fi/$npm_package_name\\\"\",\n    \"deploy:test\": \"npm run build:test && dataviz-deploy sync lusi-test $npm_package_name && cross-var echo \\\"https://lusi-dataviz.test.ylestatic.fi/$npm_package_name\\\"\",\n    \"build\": \"cross-var cross-env NODE_ENV=production APP_NAME=$npm_package_name parcel build createHTML.js --target node && parcel build *.html --target legacy --public-url https://antakasa.github.io/astro-test-gh/\",\n    \"build:test\": \"cross-var cross-env NODE_ENV=production APP_NAME=$npm_package_name parcel build index.html --public-url https://lusi-dataviz.test.ylestatic.fi/$npm_package_name/\",\n    \"prebuild\": \"rimraf build\",\n    \"prebuild:test\": \"rimraf build\"\n  },\n  \"engines\": {\n    \"node\": \"14\"\n  },\n  \"devDependencies\": {\n    \"@babel/plugin-proposal-object-rest-spread\": \"^7.15.6\",\n    \"@babel/plugin-proposal-optional-chaining\": \"^7.14.5\",\n    \"@babel/preset-env\": \"^7.15.6\",\n    \"@babel/preset-react\": \"^7.14.5\",\n    \"@mdx-js/react\": \"^1.0.0\",\n    \"@parcel/babel-plugin-transform-runtime\": \"^2.0.0-nightly.1823\",\n    \"@parcel/babel-preset-env\": \"^2.0.0-alpha.3\",\n    \"@parcel/transformer-image\": \"^2.0.0-rc.0\",\n    \"@parcel/transformer-mdx\": \"^2.0.0-rc.0\",\n    \"@parcel/transformer-sass\": \"^2.0.0-rc.0\",\n    \"autoprefixer\": \"^10.3.2\",\n    \"babel-plugin-styled-components\": \"^1.13.2\",\n    \"cross-env\": \"^5.2.1\",\n    \"cross-var\": \"^1.1.0\",\n    \"parcel\": \"^2.0.0-rc.0\",\n    \"parcel-namer-es6\": \"file:plugins/parcel-namer-es6\",\n    \"parcel-reporter-runcreatehtml\": \"file:plugins/parcel-reporter-runcreatehtml\",\n    \"parcel-transformer-mdx-frontmatter\": \"file:plugins/parcel-transformer-mdx-frontmatter\",\n    \"postcss\": \"^8.3.6\",\n    \"postcss-prefix-selector\": \"^1.12.0\",\n    \"posthtml\": \"^0.16.5\",\n    \"posthtml-expressions\": \"^1.9.0\",\n    \"prettier\": \"^2.4.1\",\n    \"rimraf\": \"^3.0.2\"\n  },\n  \"targets\": {\n    \"legacy\": {\n      \"includeNodeModules\": true,\n      \"distDir\": \"./build\",\n      \"engines\": {\n        \"browsers\": \"> 0.5%, last 2 versions, not dead\"\n      }\n    },\n    \"default\": {\n      \"context\": \"browser\",\n      \"distDir\": \"./build\",\n      \"includeNodeModules\": true\n    },\n    \"node\": {\n      \"context\": \"node\",\n      \"engines\": {\n        \"node\": \"14\"\n      },\n      \"distDir\": \".\",\n      \"includeNodeModules\": false,\n      \"outputFormat\": \"commonjs\"\n    }\n  },\n  \"dependencies\": {\n    \"@node-minify/core\": \"^6.2.0\",\n    \"@node-minify/html-minifier\": \"^6.2.0\",\n    \"markdown-to-jsx\": \"^7.1.3\",\n    \"node-fetch\": \"^2.0.0\",\n    \"prop-types\": \"^15.7.2\",\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\",\n    \"stringify-object\": \"^4.0.0\",\n    \"styled-components\": \"^5.3.1\"\n  }\n}\n","import React, {\n  createElement,\n  useContext,\n  useRef,\n  useState,\n  useEffect,\n  useLayoutEffect,\n} from \"react\";\nimport { MDXProvider } from \"@mdx-js/react\";\nimport Darksoul from \"./darksoul.md\";\nimport { SubHeader } from \"./SubHeader\";\n\nimport ReactDOMServer from \"react-dom/server\";\nimport Header from \"./plus-feature-components/Header/Header\";\nimport \"./basics.css\";\nimport \"./styles.css\";\nimport \"./variables.css\";\nimport \"./yle.css\";\nimport DarkSoulHeroText from \"./plus-feature-components/Fynd/darkSoulHeroText\";\nimport ScrollingVideo from \"./plus-feature-components/Fynd/scrollingVideo\";\nimport { DarkSoulShareButtons } from \"./plus-feature-components/Fynd/darksoulShareButtons\";\nimport AuthorBox from \"./plus-feature-components/AuthorBox/AuthorBox\";\nimport DarkSoulSubheader from \"./plus-feature-components/Fynd/darkSoulSubheader\";\nimport PictureTag from \"./plus-feature-components/VisualComponents/Picture/PictureTag\";\nimport { formatFetchedData } from \"./lib/dataHandleFunctions\";\nimport Context from \"../Context\";\nimport Scrolly from \"./plus-feature-components/Scrolly/Scrolly\";\nimport { DarkSoulNewChapter } from \"./plus-feature-components/Fynd/darkSoulNewChapter\";\nimport { DarksoulSourceList } from \"./plus-feature-components/Fynd/darksoulSourceList\";\nconst useServerEffect = ({ key, effect }) => {\n  // This is nothing more than a PictureTag from Plus-feature\n  // BUT it tries to find data that is fetched server-side\n\n  const context = useContext(Context);\n  const [data, setData] = useState(context[key] || null);\n\n  useEffect(() => {\n    if (data || typeof window === \"undefined\") return;\n    //console.log(\"Could not find server rendered data in Client for \" + key)\n    (async function () {\n      const data = await effect();\n      setData(data);\n    })();\n  }, []);\n\n  if (context.requests) {\n    context.requests.push(\n      effect().then((data) => {\n        context[key] = data;\n      })\n    );\n  }\n  return data;\n};\n\nconst DataProvider = (props) => {\n  const effect = () =>\n    formatFetchedData({\n      type: props.type,\n      value: props.kuvateksti,\n      id: props.id,\n      style: props.style,\n    });\n\n  const data = useServerEffect({\n    key: props.id,\n    effect,\n  });\n\n  if (props.children) {\n    return data && props.children(data);\n  }\n\n  return data;\n};\n\nconst components = {\n  // Everything in components: <Object> is passed to MDX-file, where you can use them natively w/o importing them.\n  // This results with less code boilerplate in MDX file.\n  wrapper: ({ children, ...props }) => {\n    return (\n      // Adds classname \"yle__article__paragraph fynd\" for every p-tag.\n      // TODO: This should be solved somehow else.\n      <>\n        {children.map((e, i) =>\n          e.props?.mdxType === \"p\"\n            ? React.cloneElement(e, {\n                className: \"yle__article__paragraph fynd\",\n                key: i,\n              })\n            : e\n        )}\n      </>\n    );\n  },\n  SubHeader: SubHeader,\n  Header: (props) => {\n    // We can pass simpler versions of complex components\n    return (\n      <Header\n        articlePublishedText=\"\"\n        soundOn={props.soundOn}\n        setSound={props.setSound}\n        data={[\n          {\n            type: \"otsikko\",\n            value: props.otsikko,\n            style: {\n              sisältö: \"\",\n              artikkelitausta: props.artikkelitausta,\n            },\n          },\n          {\n            type: \"ingressi\",\n            value: props.ingressi,\n            style: { artikkelitausta: props.artikkelitausta },\n          },\n        ]}\n      >\n        {props.children}\n      </Header>\n    );\n  },\n  DarkSoulHeroText,\n  ScrollingVideo,\n  DarkSoulShareButtons,\n  AuthorBox: (props) => (\n    <div className=\"tekijatboksi centered\">\n      <AuthorBox {...props} />\n    </div>\n  ),\n  DarkSoulSubheader,\n  AloitusKappale: DarkSoulNewChapter,\n  Kuva: (props) => (\n    // DataProvider gets IMS data etc.\n    <DataProvider {...props} type=\"kuva\">\n      {(data) => (\n        <PictureTag\n          mobileMediaData={data.urls[1] || null}\n          desktopMediaData={data.urls[0]}\n          positionAbsolute={false}\n          id={data.id}\n          mediaText={data.value}\n          mediaStyling={data.style}\n          altText={data.alttext}\n        />\n      )}\n    </DataProvider>\n  ),\n  LahdeLuettelo: DarksoulSourceList,\n  Skrolli: (props) => {\n    if (!Array.isArray(props.children)) return null;\n    // DataProvider gets IMS data etc. for every child elemet <Object>. We also extend every child with style property\n    const datas = props.children.map((e) =>\n      DataProvider({ ...e, style: props.tyylit })\n    );\n    const nullsInData = datas.some((el) => el === null);\n    return (\n      !nullsInData && <Scrolly scrollyData={datas} scrollyIndex={1}></Scrolly>\n    );\n  },\n};\n\nexport const App = () => {\n  if (typeof window !== \"undefined\") {\n    // Client side\n    // We read some data from global window object.\n\n    const initialData = window[`${process.env.APP_NAME}-initial-data`];\n    return (\n      <Context.Provider value={initialData || {}}>\n        <MDXProvider components={components}>\n          <Darksoul />\n        </MDXProvider>\n      </Context.Provider>\n    );\n  } else {\n    // Server side\n    return (\n      <MDXProvider components={components}>\n        <Darksoul />\n      </MDXProvider>\n    );\n  }\n};\n","---\notsikko: Dark Souls is one of the most challenging video games in the world. Our reporter played the game for years, and the experience can almost be described as religious.\ningressi: Everything disappears only to repeat itself in exactly the same way. This is what the video game Dark Souls teaches us. The essayist Jantso Jokelin spent five years playing one of the world’s most complex video games. He became cynical and learned how to pray. To celebrate the tenth anniversary of Dark Souls, he has now compiled ten attempts to understand this most operatic of mythological worlds.\nartikkelitausta: black\notsikonSisalto: '[data-type=\"scrolling-video1\"]'\n---\n\nimport \"./darksoul.css\";\nimport \"./authorsAndShareButtons.css\";\n\n<Header\n  ingressi={frontMatter.ingressi}\n  otsikko={frontMatter.otsikko}\n  artikkelitausta={frontMatter.artikkelitausta}\n>\n  <ScrollingVideo\n    isHeader\n    url=\"https://lusi-dataviz.ylestatic.fi/2020-11-featurepohja/fynd/ds_alkuluuppi0709_ffmpeg.mp4\">\n    <DarkSoulHeroText\n      text={`ON THIS PATH,<span>YOU SHALL DIE</span>`}\n      isMobile={false}\n    />\n  </ScrollingVideo>\n</Header>\n\n<DarkSoulShareButtons centered iconColor=\"white\" />\n\n\n<AuthorBox\n    centered\n    title=\"Tekijät\"\n    authorText=\"<span>Julkaistu: **18.5.2021**. Teksti: **Jantso Jokelin**. Editointi: **Teemu Laaksonen**. Ulkoasu: **Hannes Nissinen**, **Antti Ollikainen**. Koodi: **Antti Saarenpää**, **Annika Veteli**</span>\"\n  />\n\n\n<DarkSoulSubheader disableScroll header={\"Fire\"} number=\"I\" />\n\n<AloitusKappale>\n  In the beginning the world was without form, a valley veiled in mists and full\n  of enormous, primeval trees, bare rocks and dragons from the dawn of time.\n  Then fire arrived, and fire created opposites: warmth and cold, life and\n  death, light and darkness.\n</AloitusKappale>\n\nAnd behold: strange gods began to crawl out of the darkness, gods who found souls at the edge of the flames. With these souls, they destroyed the primordial dragons and burned the archtrees to the ground. And thus began the Age of Fire, a time when the gods flourished. But before long, the First Flame began to dwindle. The world turned towards the darkness, and living beings were hollowed out from the inside.\n\nBut before long, the First Flame began to dwindle. The world turned towards the darkness, and living beings were hollowed out from the inside.\n\nThe protagonist awakes in a dungeon where he has been locked away to await the world being snuffed out. He flees, fights with his fellow prisoners, who have lost their minds and become mere shells of human beings, and flies in the claws of an enormous raven all the way to the Firelink Shrine.\n\nA warrior sitting at the edge of the bonfire says that there is no path to salvation. We are all doomed to assume hollow form. It would have been better to rot away in the dungeon. \n\nBut: if someone were to succeed in ringing two Bells of Awakening on different sides of the kingdom, something might happen. What kind of bells they are and where they are to be found, nobody knows. \n\nAnd thus begins a journey into the darkness at the depths of the world. Clues are few and far between, progress is slow, and obstacles are depressingly overpowering. As he empties from within, the wanderer tries to stay alive until the next bonfire and understand what he is in fact trying to achieve. New nightmarish creatures lurk round every corner, fiends that will tear him to shreds in an instant. \n\nAs death comes, the player loses the precious souls he has gathered along the way and is reborn at the previous bonfire. And so, one must try again – ten, twenty, thirty times. There are no shortcuts. \n\nThe reason for this progress is revealed only after thousands of moments of suffering. The player must find the First Flame and rekindle it. In a world made of fire, this rebirth can only happen through a burnt offering.\n\n\n  <ScrollingVideo\n  type=\"scrolling-video3\"\n  value=\"(FromSoftware)\"\n  url=\"https://lusi-dataviz.ylestatic.fi/2020-11-featurepohja/fynd/ds_palava0709_ffmpeg.mp4\"\n  />\n\n<DarkSoulSubheader disableScroll header=\"Cycle\" number=\"II\" />\n\n<AloitusKappale> Dark Souls allows the player to live through an entire myth. Released by the Japanese company FromSoftware in 2011, the game rewrites pagan creation myths, incorporating elements of Eastern belief systems, Christian mysticism, philosophy and alchemy. In fact, nothing in the game’s world stems from an earthly perspective. At stake are our souls, humanity itself, the rocking of the very foundations of existence.</AloitusKappale>\n\nAlongside other commercial video games, Dark Souls feels like an almost impossible curiosity. It does not follow the Western traditions of storytelling with regard to narrative, history, spiritual growth and human capabilities. The player is not taught anything. We do not have the mental faculties to comprehend what is good and what is bad. History repeats itself, the human part is that of the jester.\n\nAccording to the famous theory developed by myth researcher Joseph Campbell, all stories in the world follow the same basic pattern. They start in a familiar setting and move into a strange world where the hero is invited to set off on an adventure. Through a variety of challenges, the hero faces an extreme ordeal, experiences a rebirth of sorts, and returns home wiser and as a more respected member of the community. The hero’s journey can be seen to play out in ancient creation myths just as much as in Hollywood movies.\n\nMany attempts have been made to make Dark Souls fit Campbell’s template, though it might in fact be more fruitful to think of the story more as challenging the myth than perpetuating it. The hero is not a hero, rather a pawn cheated by a fake prediction. Everything is strange from beginning to end. Ithaca is never discovered, let alone Nirvana. And rebirth is not a dramatic event but simply a chain made all the less eventful by a series of constant repeats.\n\n\n<Kuva\n  id=\"39-796839607fd6213f9f9\"\n  kuvateksti=\"The hero’s fate is continual rebirth. (Dark Souls Remastered / FromSoftware)\"\n  style=\"kuvasuhde:16:9&2:3;\"\n/>\n\nIn video games, death is rarely permanent. In standard solutions, the character awakes at the last save point and the player is given the opportunity to try again. \n\nDark Souls is the only game I know that gives a mythological explanation for such constant rebirth. The wanderer’s immortality is not a blessing but a form of cosmic punishment. The player has been condemned to a cycle of eternal rebirth.\n\nThis is not about reincarnation in a purely Hindu sense, about karma and being reborn in a new body. The character’s fate is to be reborn into the world in exactly the same form every time. At the First Flame, he tries to free himself of the curse through self-immolation.\n\nAs well as Campbell’s theories, there has been much discussion about the relationship between Dark Souls and the notion of eternal return first posited by German philosopher Friedrich Nietzsche. In his book The Gay Science (1882), Nietzsche encourages the reader to imagine a demon that creeps into our loneliest loneliness and explains that our lives will forever repeat the same way, right down to the smallest details. How should we accept this knowledge? According to the philosopher himself, we should live in such a way that we can embrace this repetition and learn to love our own destiny.\n\nWe must learn to love infinite repetition if we are to understand the world of Dark Souls too. We lose often, and we must overcome the same obstacles time and time again. Experience is most beneficial to those who can successfully channel the kind of positive nihilism that Nietzsche espoused: if we can laugh, cry, and eventually say yes when the hopeless cycle starts again from the beginning.\n\n<DarkSoulSubheader disableScroll header=\"Rage\" number=\"III\" />\n\n<AloitusKappale>I played through the Dark Souls trilogy (2011–2016) and its sister game Bloodborne (2015) over a period of around five years. There’s no reason it should take this long. The greatest obstacle soon became the continual crushing of my nerves and total collapse in the face of the game’s ashen grey world.</AloitusKappale>\n\nI’m not cut out for a challenge like this, I told myself time and again. I repeatedly gave up halfway through, on one occasion for over six months. \n\nThe sense of humiliation and despair caused by Dark Souls shuns comparison with any other experience. It strips us of all our pride and self-assuredness. The player is thrown into the middle of an absurd and uncaring world and left there without clear instructions as to what to do. Making progress is slow and the obstacles players face are depressingly overpowering. Each death feels like a profound loss. Development built up over a long period of time can slip away in seconds. \n\nImagine you are reading an exceptionally beautiful novel but after every sentence you have to play chess with an angry lion while locked in a burning cellar. This is what playing Dark Souls feels like at first. \n\n<Kuva\n  id=\"39-796831607fd43847c1d\"\n  kuvateksti=\"The battles are merciless, and the losses can be great. (Dark Souls Remastered / FromSoftware)\"\n  style=\"kuvasuhde:16:9&2:3;\"\n/>\n\nAlmost non-existent background information makes us seek understanding in architecture, the brief descriptions of weapons and equipment, the scarce comments of passers-by, and other fragments enigmatically scattered across the landscape. If we want more information, we must make our way further into the labyrinth of death, we must nurture our inner flame, become wiser and stronger. \n\nUnderstanding Dark Souls becomes something of an occult process. It initiates its players into a Faustian suffering mysticism, an endless cycle of pain and thirst for knowledge.\n\n  <ScrollingVideo\n  disableScroll\n  type=\"scrolling-video\"\n  value=\"(FromSoftware)\"\n  url=\"https://lusi-dataviz.ylestatic.fi/2020-11-featurepohja/fynd/ds_lyonti0709_ffmpeg.mp4\"\n  />\n\nOn this repeated journey, I constantly encounter other people searching for the First Flame. They lean dejectedly against walls or sit on tussocks, having finally lost all hope. In each part of the game, a crestfallen warrior is sitting beside the Firelink Shrine, having left his task unfinished. He has decided instead to be a passive observer, to watch other wanderers’ futile flailing and wait for his humanity to disappear. The love of fate has turned to bitterness. \n\n“What we call the curse is traceable to the soul. Do you see what that means? To be alive … to walk this earth … That's the real curse right there,” says the crestfallen Saulden in Part Two of the game in profound existentialist spirit.\n\nIn the world of Dark Souls, everything is perishable, repeating and cosmically immaterial. Those looking for gods will find only hollow shells wandering through the wilderness. If the wanderer executes them, then steps on the throne, nobody will be there to mete out punishment. \n\n<Kuva\n  id=\"39-796865607fdab1159ff\"\n  kuvateksti=\"The pervading melancholy in Dark Souls runs not only through the plot but in the design of the surroundings. (Dark Souls 3 / FromSoftware)\"\n  style=\"kuvasuhde:16:9&2:3;\"\n/>\n\nThe pessimism sown in the world is infectious and strengthens through the unreasonable obstacles the player must overcome. At times, there is nothing but rage left inside me. When even forty attempts isn’t enough to vanquish a single opponent, rage starts to turn to bitterness. There has never been any hope. I have been condemned to failure. \n\nThe difficulty of this game isn’t just a curiosity with which the developers can cash in on the most obsessive, masochistic players. Failure is a theme that Dark Souls explores both through the language of myth and mechanics. The game’s creator Hidetaka Miyazaki has spoken of death as a teacher. When you die a hundred times, you eventually become dead to rage too.\n\nOnly once you become numb to the poison coursing through your body does the possibility of progress present itself.\n\n<DarkSoulSubheader disableScroll header={\"Long Defeat\"} number=\"IV\" />\n\n<AloitusKappale>From the descriptions of ancient myths, one might easily get the impression that these events happened once, long ago, at the dawn of time. In reality, myths were relived according to the cycle of days, seasons or the ages. Horus and Set were continually battling each other along the horizon, creating the shift between day and night. At the zagmuk festival in ancient Mesopotamia, Marduk killed the monster Tiamat every year.</AloitusKappale>\n\nAccording to religious historian Mircea Eliade, primitive people did not imagine they ever did anything new, even in their day-to-day lives, but simply repeated eternal actions. “What (man) does, has been done before. His life is the ceaseless repetition of gestures initiated by others,” Eliade wrote in his The Myth of the Eternal Return (1949). \n\nIn literature, the theme of cyclically renewing myths has been widely explored, notably in Michael Ende’s fantasy novel Die unendliche Geschichte (‘The Neverending Story’, 1979). Just like Dark Souls, it describes a world that is crumbling to nothing as the result of a strange curse. Marked with chaotic architecture, the ‘Old Emperor City’ is full of figures who have gone mad and lost their memories, people who once ruled or at least tried to control the fantasy world. In this realm, events repeat over and over again.\n\nNo one could climb the Mountain of Destiny until the last successful mountaineer had been utterly forgotten. Thus anyone who had managed to climb it would always be the first.\n\nWhereas for Nietzsche, eternal return signified the endless renewal of life, for Eliade these words represented the continual return to an ancient mythical time. We can see the mythology of Dark Souls as being rooted in both these notions. The wanderer is born into the world over and over again in order to perform the very same tasks. At the same time, the wanderer is searching for a channel through which to renew time and the world.\n\nBy reviving the First Flame, the Age of Fire can continue for a moment, but even this continuation is only in the sense of “tolerating history”, as Eliade has put it. Even at the peak of a Golden Age, the era of decline is merely biding its time, waiting to reappear.\n\n<Kuva\n  id=\"39-796866607fdb2108caa\"\n  kuvateksti=\"Cursed, hollow figures who have lost their minds languish in the ruins of New Londo. (Dark Souls Remastered / FromSoftware)\"\n  style=\"kuvasuhde:16:9&2:3;\"\n/>\n\nThe first part of the game tells the story of Lordran, a land where culture once flourished but where years of decay have already burrowed their way deep into the inhabitants’ souls. The following parts of the story take place in later historical periods in the kingdoms of Drangleic and Lothric, where the same myth of the dwindling flame repeats once again. Mountain climbers embark on their bid to conquer the mountain, fall into ravines and start again from the beginning. Culture flourishes, decays and is destroyed until, amid the darkness, a new flame flickers into life. \n\nThe world order surrounding the myth of the First Flame resembles the notion of fire as the original impetus behind the world, as espoused by the Greek philosopher Heraclitus. In one of his fragments, he writes:\nThis world, which is the same for all, no one of gods or men has made. But it always was, is, and will be: an ever-living Fire, with measures of it kindling, and measures going out.\n\nThe Stoics who lived after Heraclitus developed the notion of a fire to cleanse everything on the earth (ekpyrosis), an event in which the world would be completely destroyed then rebuilt in exactly the same way. The cycle of all-engulfing fire is deemed to continue in perpetuity.\n\nThe notion of cultures cyclically growing and falling is ancient and universal. In Greek philosophy, a mythical Golden Age is followed by a series of eras marked by gradually depreciating metals at the mercy of which civilisation wandered from divinity, virtue and hard work towards ever greater dishonesty, violence and chaos. \n\nHindu cosmological thought is also founded on the idea of four gradually depreciating eras. Naturally, we are currently living in the last of these eras, an age of darkness known as kali yuga and that is marked by sin, greed, deceit and plague.\n\n<Skrolli tyylit=\"kuvasuhde:16:9&2:3;\">\n  {[{\n        id: \"39-796828607fd0bd2cdf4\",\n        type: \"kuva\",\n        kuvateksti: \"The player wanders from one reviving bonfire to the next, searching for a channel with which to renew the world. (Dark Souls Remastered / FromSoftware)\",\n    },\n]}\n</Skrolli>\n\nNot all theories of decline are positioned within such cosmic proportions. The cultural historian and philosopher Oswald Spengler believed that every culture goes through a series of developmental phases resembling the seasons. Culture is manifested like the spring bursting into bloom, it flourishes throughout the summer months, uses up its inner resources as autumn draws in, and as winter sets in it withers, shrivelling to nothing but bureaucratic civilisation. \n\nFor Spengler, decline manifested itself in different cultures as essentially the same array of symptoms: utilitarianism, belligerence, a lack of history, childlessness, a “Second Religiousness”, as Spengler would put it, and Caesarism, an apathy towards the rise of abusive dictators. Culture achieved its objectives and wore itself out. According to Spengler, Western culture entered the winter phase during the 19th century.\n\nA pessimistic view of the development of human culture was also at the root of the works of J. R. R. Tolkien, the father of modern fantasy literature. For him, technological advances did not represent a better future, and history was not on a trajectory towards ever greater successes. Rather, 20th-century man lived in a state of constantly increasing barbarism. In one of his letters, Tolkien sums up his understanding of history thus:\n\nI am a Christian, and indeed a Roman Catholic, so that I do not expect ‘history’ to be anything but a ‘long defeat’—though it contains (and in a legend may contain more clearly and movingly) some samples or glimpses of final victory.\n\nTolkien’s literary output can also be positioned within the continuum of the four ages. In the beginning, the world was created from an eternal flame which flickers behind everything else. In the first chapter of The Silmarillion, Earth is described as “yet young and full of flame”. After this, the world necessarily alternates between war and peace, chaos and order. The fourth age is the age of humankind, an age about which we know only very little. \n\n<Kuva\n  id=\"39-796875607fdd4f27885\"\n  kuvateksti=\"Cursed, hollow figures who have lost their minds languish in the ruins of New Londo. (Dark Souls Remastered / FromSoftware)\"\n  style=\"kuvasuhde:2:3;\"\n/>\n\n<Kuva\n  id=\"39-796881607fdef0bab77\"\n  kuvateksti=\"The hero on his way to the Kiln of the First Flame to battle against the Soul of Cinder. (FromSoftware)\"\n  style=\"kuvasuhde:2:3;\"\n/>\n\nIndeed, a Golden Age and kali yuga necessarily alternate in the world order of Dark Souls too. The kingdom lives through periods of ‘long defeat’ during which the flame which has fed culture dwindles in concrete fashion. The First Flame can be nurtured with human sacrifices, thereby buying extra burning time, which the limited beings infatuated with the period of cultural prosperity eagerly try to bring about. For them, the Golden Age should continue forever.\n\nThis notion brings to mind a seemingly popular interpretation among factions of the alt-right, who greatly admire Spengler, which asserts that something should or at least ought to be done about Western decline. As if there were some way we could turn back the sunset.\n\nBoth Spengler and Dark Souls simply tell us what inevitably awaits us. We must learn to love our own fate.\n\n<DarkSoulSubheader header={\"The journey\"} number=\"V\" />\n\n<AloitusKappale>I follow the path of the wanderer through the ruins. I clamber out of the dark recesses of the dungeon to a cliff edge shrouded in mist and continue my journey through the graveyards towards the accursed cities. </AloitusKappale>\n\nIn a quiet, distant woodland a giant wolf keeps watch over the grave of his master, who died centuries earlier, with a sword clenched between its teeth. Hidden away in his chamber, King Drangleic is spinning in an eternal circle having lost his mind, as though caught in a nightmarish Shakespearean vision. A veiled Dancer of the Boreal Valley performs violent pirouettes in an empty hall to music rivalling the choral works of Arvo Pärt. \n\nThere are wanderers who collapse under a heavy burden as they search for the ultimate perdition. There is a dumb and crippled prince crawling towards the final battle, carrying his weak brother on his back. There is the son of the sun god, raised as a girl because of his affection for the moon. \n\nIn observing the landscape in Dark Souls, it is hard not to think of Caspar David Friedrich’s paintings of ruins, of Gustave Doré’s etchings of hell, William Blake’s primordial monsters and Goya’s ghosts. Dark Souls owes everything to the dreamlike mysteriousness of Romantic art, to its darkness, its celebration of decline.\n\n<Kuva\n  id=\"39-796837607fd55a0fb52\"\n  kuvateksti=\"Caspar David Friedrich’s Romantic visions of ruins have inspired many gaming worlds. Their impact on Dark Souls is self-evident. The Abbey in the Oakwood (1809–1810). (Wikimedia Commons)\"\n  style=\"kuvasuhde:16:9;\"\n/>\n\n<Kuva\n  id=\"39-796838607fd5d00be24\"\n  kuvateksti=\"The Firelink Shrine from Dark Souls. (Dark Souls Remastered / FromSoftware)\"\n  style=\"kuvasuhde:16:9;\"\n/>\n\nPerhaps the most important figure in German Romanticism is that of the Wanderer, whose internal melancholy was often described alongside the magic elements of the surrounding nature. In Winterreise, Franz Schubert’s setting of texts by Wilhelm Müller, the wanderer walks through a series of barren landscapes, his wounded limbs burning, is led away by a will-o’-the-wisp and becomes lost in “deepest clefts of rock” and finds his way to the charcoal-burner’s hut. Not even in the graveyard can he find rest. \n\n<p id=\"center\" data-paragraph-foo=\"spacetop\">What senseless craving</p>\n<p id=\"center\">drives me into the wilderness?</p>\n<p id=\"center\">Signposts stand on the roads,</p>\n<p id=\"center\">point towards towns.</p>\n<p id=\"center\">Yet I wander on and on,</p>\n<p id=\"center\" data-paragraph-foo=\"spacebottom\">unresting, in search of rest.</p>\n\nEventually, the wanderer sees an old beggar playing a hurdy-gurdy and asks him to accompany his song, creating a curious perpetual motion, as the tenor Ian Bostridge has put it “a musical-poetical serpent biting its own tail”, a lament that time and again guides the wanderer back to the beginning.\n\nThe wanderer can also be found in the character classes in Part One of Dark Souls. I select the wanderer and begin this primitive perpetual motion from the beginning once again, with the ebb and flow of Winterreise in my mind.\n\n\n<Skrolli tyylit=\"kuvasuhde:16:9&2:3;\">\n  {[{\n        id: \"39-796833607fd4a689b3b\",\n        type: \"kuva\",\n        kuvateksti: \"Dark Souls continues the great journey of the Romantic era. (FromSoftware)\",\n    },\n]}\n</Skrolli>\n\n<DarkSoulSubheader header={\"Collapse\"} number=\"VI\" />\n\n<AloitusKappale>The Romanticism of Dark Souls, its fallen gods, its demons, the dialogues written in archaic English and the general atmosphere of impending decline awaken many associations with the literary canon of bygone centuries. Indeed, there is something profoundly literary about the game, something that sets it apart from the numerous big-budget games that try to imitate cinematic storylines.</AloitusKappale>\n\nI think of Lord Byron’s apocalyptic poem ‘Darkness’ (1816), its description of people languishing under an extinguished sun, burning everything in their cities, thrones and all, simply to spend another moment in the light. The last remaining survivors make their way to “the dying embers of an altar-piece”, gather together some kindling and blow into life “a flame / Which was a mockery”, which flickers for a moment before all is engulfed in darkness.\n\nI think of An Inhabitant of Carcosa (1886) by the American horror writer Ambrose Bierce, in which a man plagued by delirious visions wanders from his hospital bed out into the wastelands and eventually finds himself among a cluster of gravestones. Past him walks an archer dressed only in oilskins and carrying a flaming torch. The man does not notice the protagonist at all, but simply walks past him performing a barbarous chant in an unknown language. Eventually the narrator finds his own name among the gravestones and realises that he has arrived at the ruins of his hometown, and that he is dead.\n\n<Kuva\n  id=\"39-796840607fd68614b48\"\n  kuvateksti=\"Samuel Colman’s The Edge of Doom (1836–1838) depicts a world and time collapsing into emptiness. (Bequest of Laura L. Barnes, by exchange, Brooklyn Museum photograph)\"\n  style=\"kuvasuhde:16:9&2:3;\"\n/>\n\nThrough its artistry, the Dark Souls series creates before the player “a perfect Goyaesque world in which the meaning and values of a life that has collapsed amid the ruins attempts to stay upright,” as the film director Rax Rinnekangas notes in his work Nocturama. This quotation, however, is a description of the German writer W. G. Sebald, in whose works the reader wanders through a crumbling Europe like the living dead and tries to understand the continent’s past. On the surface, these novels have nothing more in common with the demonic fantasy world of Dark Souls than the figure of the mysterious wanderer, the lack of a deeper meaning and the general sense of fading.\n\nBut this in itself is not a small commonality. The most touching aspect of Sebald’s books is his stubborn desire to continue the great wandering of the Romantics, though even the narrator himself understands the impossibility of such an endeavour. It is too late. Europe has become old, the world is in smithereens and the flame is dwindling. All that is left of Romanticism is a charred melancholy, of our winter journey all we have left is our exhaustion and a history steamrollered by the banality of the modern age. Even the snows of the Alps will soon have melted for good.\n\nIn the third part of Dark Souls I find myself in a place where all the cities of the past have been crushed together over time to create a nightmarish vision to challenge the laws of physics. This is the Dreg Heap, where past civilisations slowly collapse and sink towards a single point. The horror of history rushes over me. I understand it less and less.\n\n<Skrolli tyylit=\"kuvasuhde:16:9&2:3;\">\n  {[{\n        id: \"39-796868607fdb91744a0\",\n        type: \"kuva\",\n        kuvateksti: \"The Dreg Heap, the wasteland of history, is one of the most enigmatic locations in the concluding part of Dark Souls. (FromSoftware)\",\n    },\n]}\n</Skrolli>\n\n<DarkSoulSubheader header={\"Prayer\"} number=\"VII\" />\n\n<AloitusKappale>On the few occasions I took a couple of months’ break from Dark Souls, I moped around and sought comfort elsewhere. I played other games, the biggest, most acclaimed and successful games in the world. With most of them, I lost interest fairly quickly. Everything felt like cheap entertainment, mediocre running around, optimistic hogwash. Dark Souls had left its mark on me. And so I always came back to the game and continued running this traumatic gauntlet. </AloitusKappale>\n\nWhen I was struggling with the most challenging parts of the game, without my noticing I would kneel down in front of the television. At first this was just an intuitive way of focusing my attention and bringing myself closer to the screen. But as a result of this kneeling, in a curious way I found myself feeling humbler. Let me overcome this, I chanted in my mind over and over as I clasped my hands together across the controls. \nWho was I actually talking to?\n\nI later discovered that Hidetaka Miyazaki, who designed Dark Souls, had intended the game to be an experience similar to prayer. He did not think of swords, fireballs and spells as symbols of power. Rather, they represent the last hope, something with which we can just barely succeed. In addition to weapons we need intelligence, skill—and faith. \n\n“I myself am not religious, but when I’m faced with something I cannot control, my last resort is to pray. It’s that element that I want to express in the game,” Miyazaki has said in The Dark Souls Companion. \n\nDark Souls encourages the player to practice devotion, both in the most solitary recesses of the mind and in the sense of community facilitated online. “Praise the sun” is a phrase repeated by many of the game’s most fervent followers. It is a phrase regularly encountered in the messages players leave on earth. Associated with this, the sun salute is one of the most common gestures of the Dark Souls characters.\n\n<Kuva\n  id=\"39-796829607fd107b5721\"\n  kuvateksti=\"Praise the sun! In the realm of Drangleic, the sun offers the wanderer scant comfort. (Dark Souls 2 / FromSoftware)\"\n  style=\"kuvasuhde:16:9&2:3;\"\n/>\n\nIn this bleak world, so rarely does the sun appear in its full glory that players are only too eager to beatify it. In this way, thousands of people in rooms across the world can come together in an archaic sun-worshipping ritual in a world of virtual spirits.\n\nOr is someone really going to suggest that this isn’t a real ritual? \n\n<DarkSoulSubheader header={\"Depression\"} number=\"VIII\" />\n\n<AloitusKappale>Compared with other gamers, Dark Souls disciples talk surprisingly often about crying, tears and despair. Having said that, a common notion among the community of players is that these games make people tougher. The internet is full of stories of people who have overcome depression and suicidal ideation with the help of Dark Souls.</AloitusKappale>\n\nI don’t doubt this for a minute. The game can be seen as an epic journey into the nature of depression. Whereas depth psychology talks about demons in a metaphorical sense, Dark Souls makes them visible and allows the player to conquer them. The real demon is revealed in how each player relates to the game. Is long defeat the same as ultimate loss? Can fatalism be turned into victory? \n\n<Kuva\n  id=\"39-796836607fd50a96052\"\n  kuvateksti=\"In the landscape of loss. (Dark Souls 3 / FromSoftware)\"\n  style=\"kuvasuhde:16:9&2:3;\"\n/>\n\nDark Souls often feels like an eternal limbo between light and perdition. The curse turning the world hollow resembles a feeling of depression that can also feel as though it will last an eternity. Depression erases our previous achievements and opportunities for the future. All that is left is a horizon of suffering, an almost religious belief that our distress is endless.\n\nThere is a path leading out of stagnation. We must crawl through poisonous bogs, fumble our way through dark catafalques and slay beasts. We must learn to save our strength and give our all. Defeat is inevitable, there is no doubt about that. At the same time, it encourages us to climb to our feet and try again. When we finally achieve our goals, the experience is almost ecstatic.\n\n<DarkSoulSubheader header={\"Opera\"} number=\"IX\" />\n\n<AloitusKappale>No text, image or video clip can do justice to an experience like playing Dark Souls. All the elements that make games an artform in their own right are missing: the experience of interaction, controlling the character, the geometry of the world, the expansive sense of space.</AloitusKappale>\n\nAt their best, games are stories that cannot be told in any other format. The drama is woven into the unspoken details of the surroundings, their physical impulses: the expectation of a battle, the relief of a fiery flask brought to the lips, two players’ unpredictable dance of death on a misty bridge. Or, quite simply, what walking and jumping feel like.\n\nIn the world of Dark Souls, it is possible to see the ghostlike contours of other players. They sit at the bonfires, swishing their swords at invisible opponents, they die or dissolve from view. These ghosts open up a panorama on the thousands of ways it is possible to live and die in this game. The player realises he is simply one mute spirit amid innumerable others. On the other hand, in a dejected world, this provides a glimmer of optimism: I am not alone.\n\nDespite their creativity and financial success, video games are still easily classed as somehow beneath canonical ‘high’ culture. When an opera singer sings of dragons or a philosopher writes about demons, the audience nods in approval. But to many people, the monsters of the gaming world still feel childish.\n\nThis is partly due to the puerile and in many ways childish disservice the industry has done to itself. At their best, video games approach total art (Gesamtkunstwerk)—in fact, often more successfully than many other artforms. The term, made famous by the opera composer Richard Wagner, denotes a work in which the traditional arts of poetry, theatre and music are seamlessly fused together.\n\n<Kuva\n  id=\"39-796844607fd7b6c0416\"\n  kuvateksti=\"The gaming world’s most operatic product? (Dark Souls 3 / FromSoftware)\"\n  style=\"kuvasuhde:2:3;\"\n/>\n\n<Kuva\n  id=\"39-797224608029d02baaf\"\n  kuvateksti=\"Arthur Rackham’s illustration from Wagner’s Ring Cycle. (Wikimedia Commons)\"\n  style=\"kuvasuhde:2:3;\"\n/>\n\nI have taken to calling Dark Souls the most operatic of video games. Its language, costumes, backdrops and plotlines are full of operatic drama. The story explores the same themes as Wagner’s Ring Cycle, in which gods, mortals, giants and dragons engage in battle, where greed and power hunger thrive and where mythical ages repeat cyclically. In the end, even the gods are sacrificed by fire. In Dark Souls, the characters that the wanderer encounters whose names begin with ‘Sieg-’ refer quite explicitly to Wagner’s Siegfried, Siegmund and Sieglinde.\n\nBut more than anything, like the Ring tetralogy, the Dark Souls series is the most challenging endurance test in its field, and faced with its slowly manifesting mythical-poetical world, the beginner can quickly become disheartened. In order to achieve the greatest reward, one must surrender to both these epics completely.\n\n<DarkSoulSubheader header={\"Ash\"} number=\"X\" />\n\n<AloitusKappale>In each part of Dark Souls the player wades through thousands of desolate landscapes, finds his way to the furnaces of the universe and defeats a being who has slumped into desperate madness and who in one way or another attempts to impact the dwindling of the First Flame. At this point comes a fateful moment unlike any other in the history of video games. The player can choose whether to sacrifice himself to the First Flame, thus allowing the age of the gods to continue, or walk away and let the world sink into darkness.</AloitusKappale>\n\nThis is not a question of choosing between good and evil. The continuation of the Age of Fire will restore some of the beauty of creation. Yet it is simultaneously a state that defies the cosmic cycle, and its artificial upkeep only serves to draw out mortal suffering. Before long, a time of darkness will descend. The age of darkness is an age of mortals—after all, since the dawn of time humans have carried within them a dark soul.\n\nNo matter which option I chose, after the final credits, the whole pointless Sisyphean endeavour would start again, only this time it will be more difficult. What was I supposed to learn from this?\n\nAt the start of the final part, the cycle of stoking the flame and letting it dwindle has continued through the ages. Civilisations have flourished and declined, antiheroes have died and been born again many times over. After constant revivification, even the First Flame is exhausted, and the mythology of fire has become a mythology of ash. \n\nStoking the First Flame has become nothing but a “re-enactment of the first linking of the fire”, as the legless pygmy king Ludleth tells the wanderer.\n\nAs we know, such things have no meaning to humans. A re-enactment or not, a ritual can return us to the fabled beginnings of time again and again.\n\nI find my way into a crater covered in thick ash and encounter the final obstacle on my journey. It is not a giant demon or a dragon of lore, but a shadowy human figure glowing like an ember, the Soul of Cinder. This is the incarnation of every successful and unsuccessful wanderer fighting desperately to remain within the faint glimmer of the flame. At the same time, the wanderer is fighting against his own shadow, the gaming community and the entirety of history.\n\nThe hundreds of hours I have spent playing Dark Souls have not made me a particularly good player. It takes countless attempts to finally defeat one’s shadow. I exhaust myself. I give up for weeks at a time. When I finally return to the struggle, I have forgotten my sense of despair and defeat, my rage and pride. My shadow is felled after only a few attempts, almost easily. After years of masochism, the final foe has been vanquished.\n\nI stand up from my painful kneeling prayer and with trembling hands wipe away the tears that have pushed their way to the surface. No other video game has ever caused me to react in this way. It is as though an entire trauma has been sucked away all at once.\n\nThe great struggle towards the emptiness has ended.\n\n\\*\\*\\*\n\n<DarkSoulShareButtons centered iconColor=\"white\" />\n\n<AuthorBox\n    centered\n    title=\"Tekijät\"\n    authorText=\"<span>Julkaistu: **18.5.2021**. Teksti: **Jantso Jokelin**. Editointi: **Teemu Laaksonen**. Ulkoasu: **Hannes Nissinen**, **Antti Ollikainen**. Koodi: **Antti Saarenpää**, **Annika Veteli**</span>\"\n/>\n\n\n<LahdeLuettelo>\nLähteet:\n\nAmbrose Bierce: ”Carcosan asukas”. Suom. Maikki Soro. Teoksessa Klassikkokirjailijoiden parhaat kummitustarinat (toim. Lisa Morton & Leslie S. Klinger). Minerva 2019.\n\nIan Bostridge: Schubertin Talvinen matka. Winterreise. Suom. Sampsa Laurinen. Basam Books 2015.\n\nMircea Eliade: Ikuisen paluun myytti. Kosmos ja historia. Suom. Teuvo Laitila. Loki-kirjat 1993.\n\nMichael Ende: Tarina vailla loppua. Suom. Marja Kyrö. Otava 2007.\n\nHerakleitos: Fragmentit tulesta. Suom. Jari Möller. niin & näin 4/2013. https://netn.fi/sites/www.netn.fi/files/netn134-07.pdf]\n\nHesiodos: Työt ja päivät. Suom. Paavo Castrén. Tammi 2004.\n\nKeza Macdonald & Jason Killingsworth: You Died: The Dark Souls Companion. BackPage Press 2016.\n\nAleksandr Manzos: Pelit elämän peilinä. Avain 2018.\n\nFriedrich Nietzsche: Iloinen tiede. Suom. J. A. Hollo. Otava 2004.\n\nRax Rinnekangas: Nocturama. Sebaldia lukiessa. Lurra Editions 2013.\n\nJohn M. Rist: The Stoics. University of California Press 1978.\n\nOswald Spengler: Länsimaiden perikato. Maailmanhistorian morfologian ääriviivoja. Suom. Yrjö Massa. Tammi 2002.\n\nJ. R. R. Tolkien: Silmarillion. Suom. Kersti Juva. WSOY 2018.\n\nJ. R. R. Tolkien: Kirjeet. Suom. Tero Valkonen. WSOY 2009.\n</LahdeLuettelo>\n","import React from \"react\";\n\nexport const SubHeader = ({test}) => {\n\treturn <h2>adsf</h2>\n}","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Markdown from 'markdown-to-jsx';\n\nimport * as s from './Header.styled';\nimport * as ss from '../App.styled';\n\nimport HeaderVisuals from './HeaderVisuals/HeaderVisuals'\nimport ShareButtons from './ShareButtons/ShareButtons'\n\nimport ProgressBar from '../VisualComponents/VisualHelpers/ProgressBar'\n\nimport {pushErrorTextToDOM} from '../../lib/errorFunctions';\nimport {styleHandlerWithDefaults} from '../../lib/styleHandler';\n\nfunction replaceAll(string, search, replace) {\n    return string.split(search).join(replace);\n}\n\nfunction Header(props){\n    const { \n        data, \n        articlePublishedText, \n        eskoHeadline, \n        eskoLead, \n        tag, \n        tagLink,\n        uutisetOrUrheilu,\n        soundOn,\n        setSound\n    } = props; //data contains rows \"otsikko\", \"ingressi\", \"tekijat\"\n\n\n    let ingressi = data.filter(d => d.type == \"ingressi\")[0]\n    ingressi = ingressi !== undefined ? ingressi.value : pushErrorTextToDOM(\"#ERR: Ingressiä ei löydetty\")\n    \n    const otsikko = data.filter(d => d.type == \"otsikko\")[0]\n    let otsikkoValue = otsikko !== undefined ? otsikko.value : pushErrorTextToDOM(\"#ERR: Otsikkoa ei löydetty\")\n    const mediaStyling = otsikko.style;\n    const styleOtsikko = styleHandlerWithDefaults(\"otsikko\", mediaStyling)\n \n    \n    ////////////////////////////\n    //CHANGE ARTICLE BG COLOR///\n    ////////////////////////////\n    const articleContent = typeof document !== \"undefined\" ? document.querySelector(\".yle__article__content\") : null;\n    if (articleContent !== null && styleOtsikko.backgroundColor[0] !== \"white\") {\n\n        function overrideColors(query, style, color){\n            const els = document.querySelectorAll(query)\n            els.forEach(el => el.style[style] = color);\n        }\n        let window = window || {}\n        //if custom article bg color then override dark scheme\n        const newBg = styleOtsikko.backgroundColor[0];\n        articleContent.style[\"backgroundColor\"] = newBg;\n        if(styleOtsikko.darkmode[0] == \"off\" && window.plusFeature !== {dark: {bg: newBg, color: \"black\", color2: \"black\"}, light: {bg: newBg, color: \"black\", color2: \"black\"}}) {\n            window.plusFeature = {dark: {bg: newBg, color: \"black\", color2: \"black\"}, light: {bg: newBg, color: \"black\", color2: \"black\"}};\n\n            overrideColors(\".yle__article__paragraph\", \"color\", \"black\")\n            overrideColors(\".yle__article__link\", \"color\", \"black\")\n            overrideColors(\".yle__article__heading\", \"color\", \"black\")\n            overrideColors(\".yle__article__list--ul li\", \"color\", \"black\")\n\n            //paragraphs.style.color = \"black\";\n        \n        //IF DARK MODE SET ON\n        } else if (styleOtsikko.darkmode[0] == \"on\" && window.plusFeature !== {dark: {bg: newBg, color: \"white\", color2: \"white\"}, light: {bg: newBg, color: \"white\", color2: \"white\"}}) {\n            \n            window.plusFeature = {dark: {bg: newBg, color: \"white\", color2: \"white\"}, light: {bg: newBg, color: \"white\", color2: \"white\"}};\n\n            overrideColors(\".yle__article__paragraph\", \"color\", \"white\")\n            overrideColors(\".yle__article__link\", \"color\", \"white\")\n            overrideColors(\".yle__article__heading\", \"color\", \"white\")\n            overrideColors(\".yle__article__list--ul li\", \"color\", \"white\")\n\n        }\n\n        //set app background if custom bg color\n        const appContainer = document.querySelector(\"#app\")\n        if (appContainer !== null && appContainer.style[\"background-color\"]!== newBg) appContainer.style[\"background-color\"] = newBg;\n    }\n\n    let headerVisualsProps = {headerChildren: props.children};\n    //Case id-column is empty and urls is undefined - push manual class to header\n    if (otsikko.urls == undefined) {\n        headerVisualsProps = {\n            ... headerVisualsProps,\n            mediaStyling: mediaStyling,\n            emptyHeader: true\n        }\n    //make standard header visuals\n    } else {\n        const mediaFormat = otsikko.mediaFormat;\n        const desktopMediaData = otsikko.urls[0] !== undefined ? otsikko.urls[0] : pushErrorTextToDOM(\"#ERR: Ongelma headerin deskarikuvassa - \" + otsikko.id)\n        const mobileMediaData = otsikko.urls[1] !== undefined ? otsikko.urls[1] : pushErrorTextToDOM(\"#ERR: Ongelma headerin mobiilikuvassa. Tarkista rajaustiedot \" + otsikko.id)\n        const altText = otsikko.altText || otsikko.alttext;\n       \n\n        headerVisualsProps = {\n            ... headerVisualsProps,\n            desktopMediaData: desktopMediaData,\n            mobileMediaData: mobileMediaData,\n            mediaFormat: mediaFormat,\n            mediaStyling: mediaStyling,\n            emptyHeader: false,\n            altText,\n            soundOn: soundOn,\n            setSound: setSound,\n            headerChildren: props.children\n        }\n    }\n\n\n    const progressBar = Object.keys(mediaStyling).includes(\"etenemispalkki\") ? mediaStyling.etenemispalkki[0] : false;\n   let colors ={};\n    if(typeof window === \"undefined\"){\n        colors.plusFeature = {\n            dark: { bg: \"black\", color: \"white\", color2: \"white\" },\n            light: { bg: \"black\", color: \"white\", color2: \"white\" },\n        }\n    } else {\n        colors.plusFeature = window.plusFeature\n    }\n    \n    return(\n        <s.HeaderContainer>\n            <HeaderVisuals {...headerVisualsProps} />\n            <ss.StyledContentContainer>\n                <s.LeadContainer\n                    backgroundColor={colors.plusFeature.light.bg}\n                    backgroundColorDark={colors.plusFeature.dark.bg}\n                >\n                    <s.TagLink href={tagLink}>\n                        <s.Tag \n                            color={colors.plusFeature.light.color}\n                            colorDark={colors.plusFeature.dark.color}\n                        >\n                            {tag}\n                        </s.Tag>\n                    </s.TagLink>\n                    <s.HeaderTitle \n                        color={colors.plusFeature.light.color}\n                        colorDark={colors.plusFeature.dark.color}\n                        fontSizing={styleOtsikko.fontSize}>\n                            {replaceAll(otsikkoValue,\"&shy;\",\"\\u00AD\")}\n                    </s.HeaderTitle>\n                    <s.HeaderLead\n                        color={colors.plusFeature.light.color}\n                        colorDark={colors.plusFeature.dark.color}\n                    >\n                        <Markdown>{ingressi}</Markdown>\n                    </s.HeaderLead>\n                    {articlePublishedText.length > 0 && \n                        <s.PublishedTextContainer\n                            color={colors.plusFeature.light.color}\n                            colorDark={colors.plusFeature.dark.color}\n                        >\n                            <time>{articlePublishedText}</time>\n                        </s.PublishedTextContainer>}\n                    {articlePublishedText.length > 0 && <ShareButtons \n                        eskoHeadline={eskoHeadline}\n                        eskoLead={eskoLead}\n                        uutisetOrUrheilu={uutisetOrUrheilu}\n                    />}\n                </s.LeadContainer>\n            </ss.StyledContentContainer>\n            {/*ProgressBar shows progress in article - use querySelector for div including whole article content*/}\n            {progressBar !== false && <ProgressBar querySelector={\"article\"} color={progressBar} />}\n        </s.HeaderContainer>\n    )\n}\n\nexport default Header;\n\n","import styled from 'styled-components';\nimport {orientation, maxWidth} from '../../lib/isDeviceMobile';\n\nexport const HeaderContainer = styled.div`\n    position: relative;\n`;\n\nexport const LeadContainer = styled.div`\n    max-width: 800px;\n    background-color: ${props => props.backgroundColor};\n    position: relative;\n    margin: auto;\n    margin-top: -75px;\n    padding: 16px 0px 16px;\n\n    & strong {\n        font-weight: 700;\n    }\n\n    @media (prefers-color-scheme: dark) {\n        background-color: ${props => props.backgroundColorDark};\n    }\n`;\n\nexport const HeaderTitle = styled.h1`\n    position: relative;\n    text-align: center;\n    margin: 8px auto;\n    font-size: ${props => props.fontSizing[0]};\n    font-weight: 900;\n    line-height: 1.25em;\n    width: 90%;\n    font-family: \"Yle Black\", \"Open Sans\", sans-serif;\n    color: ${props => props.color};\n\n    @media (prefers-color-scheme: dark) {\n        color: ${props => props.colorDark};;\n    }\n\n    @media (max-width: ${maxWidth}px) and (orientation: ${orientation}) {\n        font-size: ${props => props.fontSizing.length > 1 ? props.fontSizing[1] : props.fontSizing[0]};\n    }\n    \n`;\n\nexport const Tag = styled.h5`\n    font-size: 14px;\n    text-align: center;\n    font-weight: 700;\n    text-transform: uppercase;\n    color: ${props => props.color};\n\n    @media (prefers-color-scheme: dark) {\n        color: ${props => props.colorDark};\n    }\n`;\n\nexport const TagLink = styled.a`\n    text-decoration: none;\n    color: inherit;  \n`;\n\nexport const HeaderLead = styled.h4`\n    font-size: 20px;\n    text-align: center;\n    padding: 0px;\n    margin: 8px auto;\n    font-weight: 300;\n    line-height: 30px;\n    width: 90%;\n    color: ${props => props.color};\n\n\n    @media (prefers-color-scheme: dark) {\n        color: ${props => props.colorDark};\n    }\n`;\n\nexport const PublishedTextContainer = styled.div`\n    color: #131415;\n    font-size: 14px;\n    line-height: 21px;\n    font-family: \"Open Sans\", sans-serif;\n    font-weight: 400;\n    text-align: center;\n    margin: 16px auto 8px auto;\n    color: ${props => props.color};\n\n    @media (prefers-color-scheme: dark) {\n        color: ${props => props.colorDark};\n    }\n`;","import { viewportSize } from \"./viewportFunctions\";\n\nexport const maxWidth = 550;\nexport const orientation = \"portrait\";\n\nexport function isDeviceMobile(){\n    const screenWidth = viewportSize(\"width\");\n    const screenHeight = viewportSize(\"height\");\n    const mobile = screenHeight > screenWidth && screenWidth <= maxWidth ? true : false;\n    return mobile;\n}\n","export function viewportSize(dimension) {\n    if(typeof window === \"undefined\") return 0\n    const canUseVisualViewport = typeof visualViewport !== \"undefined\";\n    let value;\n    if(dimension == \"height\") {\n        value = canUseVisualViewport ? visualViewport.height : window.innerHeight;\n    } else if (dimension == \"width\") {\n        value = canUseVisualViewport ? visualViewport.width : window.innerWidth;\n    }\n    return value;\n}\n\nexport function isElementInOrAboveViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n      rect.left >= 0 &&\n      rect.bottom <= (viewportSize(\"height\") + rect.height || document.documentElement.clientHeight + rect.height) &&\n      rect.right <= (viewportSize(\"width\") || document.documentElement.clientWidth)\n    );\n}\n\nexport function isElementVisibleInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        rect.top - viewportSize(\"height\") <= 0\n    )\n}\n\nexport function isVideoInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <= (viewportSize(\"height\") || document.documentElement.clientHeight) &&\n        rect.right <= (viewportSize(\"width\") || document.documentElement.clientWidth)\n    );\n}\n\nexport function elementDistanceFromViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        Math.abs(rect.top)\n    );\n}\n\nexport function isElementFullyInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        rect.top >= rect.height * -1 &&\n        rect.left >= 0 &&\n        rect.bottom <= (viewportSize(\"height\") || document.documentElement.clientHeight) &&\n        rect.right <= (viewportSize(\"width\") || document.documentElement.clientWidth)\n    );\n}\n\nexport function firstTextBoxViewportFunction(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        //text box is partially visible on top\n        rect.top >= rect.height * -1 &&\n        rect.left >= 0 &&\n        //text box is partially visible on bottom\n        rect.bottom <= (viewportSize(\"height\") * 1.3 || document.documentElement.clientHeight * 1.3) &&\n        rect.right <= (viewportSize(\"width\") || document.documentElement.clientWidth)\n    );\n}\n\nexport function lastTextBoxViewportFunction(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        //text box is partially visible on top\n        rect.top >= viewportSize(\"height\") * -.5 &&\n        rect.left >= 0 &&\n        //text box is partially visible on bottom\n        rect.bottom <= (viewportSize(\"height\") || document.documentElement.clientHeight) &&\n        rect.right <= (viewportSize(\"width\") || document.documentElement.clientWidth)\n    );\n}\n\n//use first and last textbox rules\nexport function onlyOneTextBoxViewportFunction(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        //text box is partially visible on top\n        rect.top >= viewportSize(\"height\") * -.5 &&\n        rect.left >= 0 &&\n        //text box is partially visible on bottom\n        rect.bottom <= (viewportSize(\"height\") * 1.3 || document.documentElement.clientHeight * 1.3) &&\n        rect.right <= (viewportSize(\"width\") || document.documentElement.clientWidth)\n    );\n}\n\n\n\nexport function isTextBoxAlmostInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        //text box is partially visible on top\n        rect.top >= rect.height * -1 &&\n        rect.left >= 0 &&\n        //text box is partially visible on bottom\n        rect.bottom <= (viewportSize(\"height\") + rect.height || document.documentElement.clientHeight + rect.height) &&\n        rect.right <= (viewportSize(\"width\") || document.documentElement.clientWidth)\n    );\n}\n\n  \nexport function isElementCloseToViewport(el, screenWidthBuffer) {\n  var rect = el.getBoundingClientRect();\n\n  var nearEnough;\n\n  if(rect.left >= 0 && rect.top <= viewportSize(\"height\") * (1 + screenWidthBuffer)) {\n      nearEnough = true;\n  } else if (rect.left >= 0 && Math.abs(rect.top) <= viewportSize(\"height\") * (1 + screenWidthBuffer)) {\n      nearEnough = true;\n  } else {\n      nearEnough = false;\n  }\n  \n  return nearEnough\n}\n\nexport function videoRelativeCloseToViewport(el, buffer) {\n    var rect = el.getBoundingClientRect();\n\n    var top = rect.top\n    var windowHeight = viewportSize(\"height\")\n    var elHeight = rect.height\n\n    if(rect.left >= 0 && top < windowHeight * buffer && elHeight * buffer * -1 < top) {\n        return true;\n    } else {\n        return false;\n    }\n\n}\n\nexport function isElementFullyInViewportWithPadding(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n        rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom - 25 <= (viewportSize(\"height\") || document.documentElement.clientHeight) &&\n        rect.right  - 25 <= (viewportSize(\"width\") || document.documentElement.clientWidth)\n    );\n}","import styled from 'styled-components';\n\nexport const StyledContentContainer = styled.div`\n    max-width: 650px;\n    margin: 0.85em auto !important;\n    padding: 0px 15px;\n`;\n\nexport const Errors = styled.div`\n    max-width: 650px;\n    margin: 0.85em auto !important;\n    padding: 0px 15px;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n`;\n\nexport const ErrorContainer = styled.div`\n    max-width: 650px;\n    \n`;\n\nexport const SplashFull = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background-color: white;\n    top: 0;\n    left: 0;\n    visibility: visible !important;\n`;\n\nexport const LoadingContent = styled.div`\n    position: absolute;\n    font-size: 24px;\n    font-weight: 400;\n    color: black;\n    top: 40%;\n    text-align: center;\n    margin: auto;\n    width: 100%;\n`;\n\nexport const SplashText = styled.div`\n    \n`;","import React, {useRef, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport * as s from './HeaderVisuals.styled';\nimport PictureTag from '../../VisualComponents/Picture/PictureTag'\nimport VideoTag from '../../VisualComponents/Video/VideoTag'\nimport SwipingFinger from '../../VisualComponents/VisualHelpers/SwipingFinger'\n\nimport {pushErrorTextToDOM} from '../../../lib/errorFunctions';\n\n\n//pushes selected id or class to header\nfunction pushContentToHeader(emptyContainer, newHeaderSelector){\n    useEffect(() => {\n        \n        if(emptyContainer.current !== null) {\n            const newHeaderElement = document.querySelector(newHeaderSelector)\n            if(newHeaderElement !== null) {\n                newHeaderElement.style[\"marginTop\"] = \"-80px\";\n                emptyContainer.current.appendChild(newHeaderElement)\n                \n            } else {\n                pushErrorTextToDOM(\"#ERR: Ei onnistuttu lisäämään sisältöä \" + newHeaderSelector + \" artikkelin alkuun\");\n            }\n        }\n      }, [emptyContainer]);\n}\n\nfunction HeaderVisuals(props){\n    const { \n        mediaFormat, \n        mobileMediaData, \n        desktopMediaData, \n        mediaStyling, \n        emptyHeader, \n        altText,\n        soundOn,\n        setSound\n    } = props;\n    const emptyContainer = useRef(null);\n   \n\n    //if header visual is empty then embed new class to header\n    if(emptyHeader){\n\n        const newHeaderSelector = Object.keys(mediaStyling).includes(\"sisältö\") ? mediaStyling.sisältö[0] : undefined\n        newHeaderSelector !== undefined && pushContentToHeader(emptyContainer, newHeaderSelector);\n    }\n\n    const showIcon = Object.keys(mediaStyling).includes(\"ikoni\") ? mediaStyling.ikoni[0] : false;\n\n    return (\n        <>\n        {emptyHeader ?\n        <s.VisualEmptyContainer\n            ref={emptyContainer} \n        >\n            {props.headerChildren && React.cloneElement(props.headerChildren)}\n        </s.VisualEmptyContainer>\n        :\n        mediaFormat == \"imsImage\" || mediaFormat == \"webImage\"\n        ?\n        <s.VisualContainer>\n            <PictureTag \n                mobileMediaData={mobileMediaData}\n                desktopMediaData={desktopMediaData}\n                positionAbsolute={true}\n                mediaStyling={mediaStyling}\n                headerPicture={true}\n                altText={altText}\n            />\n        </s.VisualContainer>\n        : mediaFormat == \"webVideo\"\n        ?\n        <s.VisualContainer>\n            <VideoTag \n                mobileMediaData={mobileMediaData}\n                desktopMediaData={desktopMediaData}\n                positionAbsolute={true}\n                mediaStyling={mediaStyling}\n                audioIconPosition=\"20px\"\n                //video in header should be preloaded\n                headerVideo={true}\n                soundOn={soundOn}\n                setSound={setSound}\n            />\n        </s.VisualContainer>\n        :\n        null}        \n        {/*SwipingFinger is guide to start scrolling at the start of the article*/}\n        {showIcon && <SwipingFinger color={showIcon} />}\n        \n        </>\n    )\n}\n\nexport default HeaderVisuals;\n\nHeaderVisuals.propTypes = {\n    mediaFormat: PropTypes.string, //imsImage, webImage, webVideo \n    mobileMediaData: PropTypes.string, //mobile media url \n    desktopMediaData: PropTypes.string, //desktop media url\n    mediaStyling: PropTypes.object, //array containing all styling from sheets\n    emptyHeader: PropTypes.bool, //push scrolly/etc. to header \n    altText: PropTypes.string //alt text for search robots and screen readers\n}","import styled from 'styled-components';\n\nexport const VisualContainer = styled.div`\n    position: relative;\n    height: 70vh;\n    overflow: hidden;\n    width: 100%;\n`;\n\nexport const VisualEmptyContainer = styled.div`\n    position: relative;\n    height: auto;\n    width: 100%;\n`;","import React, {useRef, useState, useEffect, useLayoutEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport * as s from './PictureTag.styled.js';\nimport * as ss from '../SharedVisualStyles.styled.js';\n\nimport {maxWidth, orientation} from '../../../lib/isDeviceMobile';\nimport {isUsingApp} from '../../../lib/isUsingApp';\nimport {styleHandlerWithDefaults} from '../../../lib/styleHandler';\nimport {animateImage} from './pictureScrollFunctions';\n\nimport {pushErrorTextToDOM} from '../../../lib/errorFunctions';\n\nimport Markdown from 'markdown-to-jsx';\n\n//Helps to description text under picture\nfunction returnPictureWidth(ref, pictureWidth, setPictureWidth){\n\n    const calcPictureWidth = (ref) => {\n        if(ref.current !== null) {\n\n            const picContainer = ref.current.querySelector('img')\n            let newPicWidth = picContainer.getBoundingClientRect().width;\n            newPicWidth == 0 && setTimeout(() => calcPictureWidth(ref),500)\n            newPicWidth !== pictureWidth && setPictureWidth(newPicWidth);\n            \n        }\n    }\n\n    useEffect(() => {\n        let timeoutId = null;\n        const resizeListener = () => {\n            // prevent execution of previous setTimeout\n            clearTimeout(timeoutId);\n            // change width from the state object after 150 milliseconds\n            timeoutId = setTimeout(() => calcPictureWidth(ref), 150);\n        };\n        if(typeof window !== \"undefined\") { \n        window.addEventListener(\"resize\", resizeListener, { passive: true });\n        setTimeout(() => calcPictureWidth(ref),500)\n        //console.log(initialRun)\n        //initialRun && setTimeout(() => calcPictureWidth(ref),1500)\n        return () => window.removeEventListener(\"resize\", resizeListener);\n        }\n    },[pictureWidth])\n}\n\nfunction PictureTag(props){\n    const { \n        mobileMediaData, \n        desktopMediaData, \n        positionAbsolute, \n        id, \n        mediaText, \n        mediaStyling, \n        showScrollyMedia, \n        altText, \n        headerPicture\n    } = props;\n    const pictureTag = useRef(null);\n    const pictureTagRelative = useRef(null);\n\n    const [pictureWidth, setPictureWidth] = useState(undefined);\n\n    //when using app, yle menu takes space 50px\n    const usingApp = isUsingApp();\n    const menuHeight = 50;\n    //for maxWidth and left - padding when object-fit: scale down\n    const widthPadding = 20;\n\n    const styleThisEl = styleHandlerWithDefaults(\"picture\", mediaStyling)\n\n    animateImage(pictureTagRelative,positionAbsolute)\n    let colors = {} \n    if(typeof window === \"undefined\"){\n        colors.plusFeature = {\n            dark: { bg: \"black\", color: \"white\", color2: \"white\" },\n            light: { bg: \"black\", color: \"white\", color2: \"white\" },\n        }\n    } else {\n        colors.plusFeature = window.plusFeature\n    }\n\n    return (\n        positionAbsolute == true\n        ?\n        <ss.MediaContainerAbsolute\n            as=\"picture\" \n            onError={() => pushErrorTextToDOM(\"#ERR - ei kelvollinen URL: \" + desktopMediaData + \" tai \" + mobileMediaData + \". Tarkista rajaustiedot kuvasta: \" + id)}\n            width={styleThisEl.width[0]}\n            //animation in scrolly fadeIn/fadeOut\n            showScrollyMedia={showScrollyMedia || showScrollyMedia == undefined ? true : false}\n            //renderMedia={renderMedia}\n            imageBackground={styleThisEl.imageBackground[0]}\n            ref={pictureTag}\n            >\n            <s.MobileSource\n                srcSet={mobileMediaData == undefined ? pushErrorTextToDOM(\"#ERR - ei kelvollinen URL: \" + desktopMediaData + \" tai \" + mobileMediaData + \". Tarkista rajaustiedot kuvasta: \" + id) : mobileMediaData} \n                media={\"(orientation:\" + orientation + \") and (max-width:\" + maxWidth + \"px)\"}\n            />\n            <s.DesktopImgAbs \n                src={desktopMediaData} \n                //height={styleThisEl.imageBackground[0] == undefined || styleThisEl.imageBackground[0] == false ? \"100%\" : \"auto\"}\n                height={\"100%\"}\n                objectPosition={[styleThisEl.horizontalObjectPosition[0], styleThisEl.horizontalObjectPosition[1]]}\n                /*scaleDown keeps whole image in screen while maintaining aspect ratio - menuHeight helps to render under menu element */\n                objectFit={styleThisEl.imageBackground[0] == undefined || styleThisEl.imageBackground[0] == false ? \"cover\" : \"scale-down\"}\n                maxHeight={styleThisEl.imageBackground[0] == undefined && !usingApp && !headerPicture || styleThisEl.imageBackground[0]  && usingApp == false \n                    //? \"calc(100% - \" + menuHeight + \"px)\" \n                    ? \"calc(100%)\" \n                    : \"100%\"\n                }\n                top={styleThisEl.imageBackground[0] == undefined && !usingApp && !headerPicture || styleThisEl.imageBackground[0] && usingApp == false\n                    ? \"calc(50%)\" \n                    : \"50%\"\n                }\n                maxWidth={styleThisEl.imageBackground[0] == undefined || styleThisEl.imageBackground[0] == false\n                    ? \"100%\"\n                    //: \"calc(100% - \" + widthPadding + \"px)\" \n                    : \"100%\"\n                }\n                left={0}\n                alt={altText !== null ? altText : pushErrorTextToDOM(\"#ERR - altText puuttuu kuvasta: \" + id + \". Lisää tiedot IMSiin tai sheetsiin.\", id)}\n            />\n            {styleThisEl.mediaCredits.length > 0 && <ss.MediaCredits textColor={styleThisEl.mediaCreditsColor[0]} textBackground={styleThisEl.mediaCreditsBackground[0]}>{styleThisEl.mediaCredits[0]}</ss.MediaCredits>}\n        </ss.MediaContainerAbsolute>\n        :\n        <ss.MediaContainerRelative \n            as=\"picture\"\n            onError={() => pushErrorTextToDOM(\"#ERR - ei kelvollinen URL: \" + desktopMediaData + \" tai \" + mobileMediaData + \". Tarkista rajaustiedot kuvasta: \" + id)}\n            width={styleThisEl.width[0]}\n            maxWidth={styleThisEl.maxWidth[0]}\n            //control opacity only in scrolly\n            showScrollyMedia={showScrollyMedia || showScrollyMedia == undefined ? true : false}\n            ref={pictureTagRelative}\n            contentInFeature={styleThisEl.feature[0] == \"on\"}\n            >\n            <s.MobileSource \n                srcSet={mobileMediaData == undefined ? pushErrorTextToDOM(\"#ERR - ei kelvollinen URL: \" + desktopMediaData + \" tai \" + mobileMediaData + \". Tarkista rajaustiedot kuvasta: \" + id) : mobileMediaData}\n                media={\"(orientation:\" + orientation + \") and (max-width:\" + maxWidth + \"px)\"}\n            />\n            <s.DesktopImgRel \n                src={desktopMediaData} \n                alt={altText !== null ? altText : pushErrorTextToDOM(\"#ERR - altText puuttuu kuvasta: \" + id + \". Lisää tiedot IMSiin tai sheetsiin.\", id)} \n                onLoad={returnPictureWidth(pictureTagRelative, pictureWidth, setPictureWidth)}    \n            />\n            <ss.Text \n                elWidth={pictureWidth} \n                emptyElement={mediaText.length == 0}\n                color={colors.plusFeature.light.color}\n                colorDark={colors.plusFeature.dark.color}\n                >\n                    <Markdown>{mediaText}</Markdown>\n            </ss.Text>            \n        </ss.MediaContainerRelative>\n    )\n}\n\nexport default PictureTag;\n\nPictureTag.propTypes = {\n    mobileMediaData: PropTypes.string, //mobile media url \n    desktopMediaData: PropTypes.string,  //desktop media url\n    id: PropTypes.string, //media url for error handling\n    positionAbsolute: PropTypes.bool, //position absolute in scrolly\n    mediaText: PropTypes.string, //text under video in position relative\n    mediaStyling: PropTypes.object, //array containing all styling from sheets\n    showScrollyMedia: PropTypes.bool,  //boolean from Scrolly deciding whether to show media \n    headerPicture: PropTypes.bool, //style differently if as headerpicture\n    altText: PropTypes.string //alt text for search robots and screen readers\n}","import styled from 'styled-components';\nimport {orientation, maxWidth} from '../../../lib/isDeviceMobile';\n\n\nexport const MobileSource = styled.source`\n    position: relative;\n    width: 100%;\n`;\n\n/*\nexport const DesktopImgAbs = styled.img`\n    position: absolute;\n    left: 0;\n    width: 100%;\n    max-width: ${props => props.maxWidth};\n    max-height: ${props => props.maxHeight};\n    height: ${props => props.height};\n    object-fit: ${props => props.objectFit};\n    object-position: ${props => props.objectPosition[0] !== undefined ? props.objectPosition[0] : \"50\"}% 50%;\n\n    -webkit-transform: translateZ(0);\n    -webkit-backface-visibility: hidden;\n\n    @media only screen and (max-width: ${maxWidth}px) and (orientation: ${orientation}) {\n        object-position: ${props => props.objectPosition[1] !== undefined ? props.objectPosition[1] : \"50\"}% 50%;\n    }\n`;\n*/\n\nexport const DesktopImgAbs = styled.img`\n    position: absolute;\n    width: 100%;\n    object-fit: ${props => props.objectFit};\n    max-width: ${props => props.maxWidth};\n    max-height: ${props => props.maxHeight};\n    height: ${props => props.height};\n    top: ${props => props.top};\n    left: ${props => props.left};\n    transform: translateY(-50%);\n    object-position: ${props => props.objectPosition[0] !== undefined ? props.objectPosition[0] : \"50\"}% 50%;\n    @media only screen and (max-width: ${maxWidth}px) and (orientation: ${orientation}) {\n        object-position: ${props => props.objectPosition[1] !== undefined ? props.objectPosition[1] : \"50\"}% 50%;\n    }\n\n`;\n\nexport const DesktopImgRel = styled.img`\n    position: relative;\n    max-height: 90vh;\n    width: auto;\n    max-width: 100%;\n    display: block;\n    margin: auto;\n`;","import styled, { keyframes } from 'styled-components';\n\nimport {orientation, maxWidth} from '../../lib/isDeviceMobile';\n\nconst padding = \"0px\";\n\nexport const MediaContainerAbsolute = styled.div`\n    as: ${props => props.tag};\n    position: absolute;\n    transform: translateY(-50%);\n    top: 50%;\n    object-fit: cover;\n    height: 100%;\n    background-color: ${props => props.imageBackground};\n    opacity: ${props => props.showScrollyMedia ? 1 : 0};\n    visibility: ${props => props.showScrollyMedia ? \"visible\" : \"hidden\"};\n    transition: opacity 500ms ease, visibility 0s linear ${props => props.showScrollyMedia ? \"\" : \"500ms\"};\n    width: 100%;\n`;\n\n/*\nexport const MediaContainerAbsolute = styled.div`\n    as: ${props => props.tag};\n    position: absolute;\n    left: 0;\n    \n    height: 100vh;\n    max-height: 100vh;\n    width: 100%;\n\n    background-color: ${props => props.imageBackground};\n    animation-name: ${props => props.showScrollyMedia ? fadeIn(props.currentOpacity) : fadeOut(props.currentOpacity)};\n    animation-duration: 500ms;\n    animation-timing-function: ease;\n    animation-delay: 0ms;\n    animation-iteration-count: 1;\n    animation-direction: normal;\n    animation-fill-mode: forwards;\n    opacity: 0;\n    z-index: ${props => props.zIndex};\n\n    -webkit-transform: translateZ(0);\n    -webkit-backface-visibility: hidden;\n`;\n\n*/\n\nexport const MediaContainerRelative = styled.div`\n    as: ${props => props.tag};\n    position: relative;\n    color: black;\n    font-size: 14px;\n    margin: ${props => props.contentInFeature ? \"12px auto 0\" : \"auto\"};\n    line-height: 1.45;\n    max-width: ${props => props.contentInFeature ? \"800px\" : \"650px\"};\n    width: calc(${props => props.contentInFeature ? props.width + \"% - \" + padding : \"100%\"});\n    display: block;\n    padding: ${props => props.contentInFeature ? \"0\" : \"0 15px\"};\n    padding-top: ${props => props.contentInFeature ? \"16px\" : \"20px\"};\n    padding-bottom: ${props => props.contentInFeature ? \"16px\" : \"20px\"};\n    \n`;\n\nexport const MediaCredits = styled.p`\n    position: absolute;\n    right: 10px;\n    bottom: calc(10px + 3vh);\n    text-align: right;\n    color: ${props => props.textColor};\n    background-color: ${props => props.textBackground};\n    padding: 5px;\n`;\n\nexport const Text = styled.p`\n    margin: auto;\n    margin-top: 5px;\n    width: ${props => props.elWidth !== undefined ? props.elWidth + \"px\" : \"auto\"};\n    min-width: 150px;\n    padding: 16px;\n    border-bottom: ${props => props.emptyElement ? \"none\" : \"1px solid rgb(232, 233, 235)\"};\n    color: ${props => props.color};\n\n    @media (prefers-color-scheme: dark) {\n        color: ${props => props.colorDark};\n    }\n`;","export function isUsingApp(){\n    if(typeof window === \"undefined\") return\n    const currentUrl = window.location.href;\n    return currentUrl.includes(\"article-renderer\") || currentUrl.includes(\"about:srcdoc\") ? true : false;\n}","export function styleHandlerWithDefaults(contentType, styles){\n    if(contentType == \"picture\") {\n        return {\n            \"mediaCredits\": keySniffer(styles, \"kuvatieto\", \"\"),\n            \"mediaCreditsColor\": keySniffer(styles, \"kuvatietoväri\", \"black\"),\n            \"mediaCreditsBackground\": keySniffer(styles, \"kuvatietotausta\", \"transparent\"),\n            \"width\": keySniffer(styles, \"leveys\", 100),\n            \"maxWidth\": keySniffer(styles, \"maxleveys\", \"800px\"),\n            \"imageBackground\": keySniffer(styles, \"kuvatausta\", undefined),\n            \"horizontalObjectPosition\": keySniffer(styles, \"keskikohta\", \"50\"),\n            \"feature\": keySniffer(styles, \"feature\", \"on\")\n\n        }\n    } else if (contentType == \"video\") {\n        return {\n            \"audio\": keySniffer(styles, \"ääni\", false)[0] == \"on\" ? true : false,\n            \"preload\": keySniffer(styles, \"preload\", \"off\")[0] == \"on\" ? true : false,\n            \"horizontalObjectPosition\": keySniffer(styles, \"keskikohta\", \"50\"),\n            \"autoplay\": keySniffer(styles, \"autoplay\", \"on\")[0] == \"off\" ? false : true,\n            \"iconColor\": keySniffer(styles, \"ikoniväri\", \"white\"),\n            \"width\": keySniffer(styles, \"leveys\", 100),\n            \"maxWidth\": keySniffer(styles, \"maxleveys\", \"800px\"),\n            \"mediaCredits\": keySniffer(styles, \"kuvatieto\", \"\"),\n            \"mediaCreditsColor\": keySniffer(styles, \"kuvatietoväri\", \"black\"),\n            \"mediaCreditsBackground\": keySniffer(styles, \"kuvatietotausta\", \"transparent\"),\n            \"controls\": keySniffer(styles, \"autoplay\", \"on\")[0] == \"off\" ? true : false,\n            \"imageBackground\": keySniffer(styles, \"kuvatausta\", undefined),\n            \"feature\": keySniffer(styles, \"feature\", \"on\")\n\n        }\n    } else if (contentType == \"otsikko\") {\n        return {\n            \"fontSize\": keySniffer(styles, \"fonttikoko\", \"3em\"),\n            \"backgroundColor\": keySniffer(styles, \"artikkelitausta\", \"white\"),\n            \"darkmode\": keySniffer(styles, \"darkmode\", \"off\")\n        }\n    } else if (contentType == \"skrolli\") {\n        return {\n            \"textContainerBackground\": keySniffer(styles, \"tekstitausta\", \"black\"),\n            \"textColor\": keySniffer(styles, \"tekstiväri\", \"white\")\n        }\n    } else if (contentType == \"sitaatti\") {\n        return {\n            \"textContainerBackground\": keySniffer(styles, \"tekstitausta\", \"black\"),\n            \"textColor\": keySniffer(styles, \"tekstiväri\", \"#F8F9FA\"),\n            \"fontSize\": keySniffer(styles, \"fonttikoko\", \"32px\"),\n\n        }\n    }\n}\n\n//tries to find styling style object, if couldn't find return default\nfunction keySniffer(styleObj, itemName, fallback) {\n    const sniffedValue = Object.keys(styleObj).includes(itemName) ? styleObj[itemName] : [fallback];\n    return sniffedValue;\n}\n\n\n","import {useEffect} from 'react';\n\nimport { isElementVisibleInViewport } from '../../../lib/viewportFunctions';\n\n\nexport function animateImage(ref, positionAbsolute){\n    useEffect(() => {\n        const closeToViewport = async () => {\n            if(ref.current !== null) {\n               //Enter animation\n               if(!positionAbsolute && isElementVisibleInViewport(ref.current) && !ref.current.classList.contains(\"animatePlusFeatureVisual\")) {\n                   ref.current.classList.add(\"animatePlusFeatureVisual\")\n               }\n            }\n        };\n        document.getElementById(\"app\").addEventListener(\"scroll\", closeToViewport, { passive: true });\n        return () => document.getElementById(\"app\").removeEventListener(\"scroll\", closeToViewport);\n    }, [])     \n}","export function pushErrorTextToDOM(errorText, id){\n    if(typeof document === \"undefined\") return \n    const el = document.querySelector(\"#plus-featurepohja-errorlist\");\n    if(el) {\n        if(window.plusFeatureErrors == undefined) window.plusFeatureErrors = [];\n        !window.plusFeatureErrors.includes(errorText) && window.plusFeatureErrors.push(errorText)\n        el.innerHTML = \"<br/>\";\n        window.plusFeatureErrors.map(eText => {\n            el.innerHTML = el.innerHTML + eText + \"<br/><br/>\";\n        })\n        if(window.location.href.includes(\"localhost\") || window.location.href.includes(\"esko.yle.fi\")) el.style.display = \"block\"\n    }\n    \n}\n","import React, {useRef, useState, useEffect, useLayoutEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport * as s from './VideoTag.styled.js';\nimport * as ss from '../SharedVisualStyles.styled.js';\n\nimport {styleHandlerWithDefaults} from '../../../lib/styleHandler';\n\nimport VideoAudio from './VideoAudio';\nimport VideoPlay from './VideoPlay';\n\nimport Markdown from 'markdown-to-jsx';\n\nimport {playPauseVideo} from './videoScrollFunctions';\nimport {isDeviceMobile} from '../../../lib/isDeviceMobile';\nimport {pushErrorTextToDOM} from '../../../lib/errorFunctions';\n\n\n//Helps to position icons and description text under video\nfunction returnVideoSpecs(ref, videoSpecs, setVideoSpecs){\n\n    const calcVideoSpecs = (ref) => {\n        if(ref.current !== null) {\n            let newVideoWidth = 0;\n            let newVideoPadding = 0;\n            let newVideoHeight = 0;\n            const videoChildren = [...ref.current.querySelectorAll('video')]\n            const containerLeft = ref.current.getBoundingClientRect().left;\n            videoChildren.map(vid => {\n                \n                const videoRect = vid.getBoundingClientRect();\n                newVideoWidth = videoRect.width > newVideoWidth ? videoRect.width : newVideoWidth;\n                const calcVideoPadding = videoRect.left - containerLeft;\n                newVideoPadding = videoRect.left > 0 ? calcVideoPadding : newVideoPadding;\n                const videoHeight = videoRect.height;\n                newVideoHeight = videoHeight > newVideoHeight ? videoHeight : newVideoHeight;\n            })\n            newVideoWidth == 0 && setTimeout(() => calcVideoSpecs(ref),500)\n            newVideoWidth !== videoSpecs[0] && setVideoSpecs([newVideoWidth, newVideoPadding, newVideoHeight]);\n        }\n    }\n    \n    useLayoutEffect(() => {\n\n        let timeoutId = null;\n        const resizeListener = () => {\n            // prevent execution of previous setTimeout\n            clearTimeout(timeoutId);\n            // change width from the state object after 150 milliseconds\n            timeoutId = setTimeout(() => calcVideoSpecs(ref), 150);\n        };\n\n        window.addEventListener(\"resize\", resizeListener, { passive: true });\n        setTimeout(() => calcVideoSpecs(ref, videoSpecs, setVideoSpecs),1500)\n        return () => window.removeEventListener(\"resize\", resizeListener);\n    },[videoSpecs])\n}\n\nfunction VideoTag(props){\n    const { \n        mobileMediaData, \n        desktopMediaData, \n        positionAbsolute, \n        id, \n        mediaText, \n        mediaStyling, \n        showScrollyMedia, \n        audioIconPosition, \n        scrollyTextFullyInScreen,\n        headerVideo,\n        setSound,\n        soundOn\n    } = props;\n\n    const videoRef = useRef(null);\n    const styleThisEl = styleHandlerWithDefaults(\"video\", mediaStyling)\n\n    const mobile = isDeviceMobile();\n    playPauseVideo(videoRef, styleThisEl.controls, scrollyTextFullyInScreen, positionAbsolute, headerVideo);\n\n    //let videoSpecs = returnVideoSpecs(videoRef);\n    const [videoSpecs, setVideoSpecs] = useState([]);\n    //when using app, yle menu takes space 50px\n    //const usingApp = isUsingApp();\n    //const menuHeight = 50;\n    \n    const videoProps = \n        {\n            preload: styleThisEl.preload || headerVideo ? \"auto\" : \"metadata\", \n            autoPlay: styleThisEl.preload && !styleThisEl.controls || headerVideo ? true : false,\n            muted: true,\n            playsInline: true,\n            loop: true,\n            height: styleThisEl.imageBackground[0] == undefined && positionAbsolute ? \"100%\" : \"auto\",\n            /*scaleDown keeps whole image in screen while maintaining aspect ratio - menuHeight helps to render under menu element */\n            objectFit: styleThisEl.imageBackground[0] == undefined && positionAbsolute ? \"cover\" : \"scale-down\",\n            //maxHeight: positionAbsolute && !usingApp && !headerVideo ? \"calc(100% - \" + menuHeight + \"px)\" : \"100%\",\n            maxHeight: \"100%\",\n            top: \"50%\",\n            //top: positionAbsolute && !usingApp && !headerVideo ? \"calc(50% + \" + Number(menuHeight/2) + \"px)\"  : \"50%\",\n            onError: () => pushErrorTextToDOM(\"#ERR - ei kelvollinen URL: \" + desktopMediaData + \" tai \" + mobileMediaData + \". Tarkista rajaustiedot kuvasta: \" + id),\n            onLoad: returnVideoSpecs(videoRef, videoSpecs, setVideoSpecs)\n\n        };\n\n    //Two videos are loaded - preload and autoplay only desktop OR mobile\n    const disableAutoplay = \n        {\n            preload: \"metadata\", \n            autoPlay: false\n        }\n    return (\n        //Absolute position in scrollys and header - relative between paragraphs\n        positionAbsolute == true\n        ?\n        <ss.MediaContainerAbsolute\n            as=\"div\"\n            showScrollyMedia={showScrollyMedia || showScrollyMedia == undefined ? true : false}\n            ref={videoRef}\n            imageBackground={styleThisEl.imageBackground[0] == false || styleThisEl.imageBackground[0] == undefined ? \"white\" : styleThisEl.imageBackground[0]}\n            \n        >\n            <s.VideoTagAbsoluteDesktop  {...videoProps} {...(mobile && disableAutoplay)} \n                objectPositionDesktop={styleThisEl.horizontalObjectPosition[0]} \n                poster={desktopMediaData.replace(\"#t=0.1\",\"\") + \".poster.jpg\"}>\n                <source src={desktopMediaData} type=\"video/mp4\" />\n            </s.VideoTagAbsoluteDesktop>\n            <s.VideoTagAbsoluteMobile {...videoProps}  {...(!mobile && disableAutoplay)} \n                objectPositionMobile={styleThisEl.horizontalObjectPosition[1]} \n                poster={mobileMediaData.replace(\"#t=0.1\",\"\") + \".poster.jpg\"}>\n                <source src={mobileMediaData} type=\"video/mp4\" />\n            </s.VideoTagAbsoluteMobile>\n                {styleThisEl.audio && \n                    <VideoAudio \n                        audioIconPosition={audioIconPosition} \n                        audioIconPositionRight={videoSpecs[1]} \n                        iconColor={styleThisEl.iconColor[0]} \n                        relative={!positionAbsolute} \n                        soundOn={soundOn}\n                        setSound={setSound}\n                    />}\n                {styleThisEl.controls && \n                    <VideoPlay \n                        playIconPosition={undefined} \n                        iconColor={styleThisEl.iconColor[0]} \n                        videoContainer={videoRef} \n\n                    />}\n                {styleThisEl.mediaCredits.length > 0 && \n                    <ss.MediaCredits \n                        textColor={styleThisEl.mediaCreditsColor[0]}\n                        textBackground={styleThisEl.mediaCreditsBackground[0]}\n                    >{styleThisEl.mediaCredits[0]}\n                    </ss.MediaCredits>}\n        </ss.MediaContainerAbsolute>\n        :\n        <ss.MediaContainerRelative\n            as=\"div\"\n            showScrollyMedia={showScrollyMedia || showScrollyMedia == undefined ? true : false}\n            width={styleThisEl.width[0]}\n            maxWidth={styleThisEl.maxWidth[0]}\n            ref={videoRef}\n            contentInFeature={styleThisEl.feature[0] == \"on\"}\n            className=\"plusVideoRelative\"\n        >\n            <s.VideoTagRelativeDesktop  \n                {...videoProps} {...(mobile && disableAutoplay)} \n                poster={desktopMediaData.replace(\"#t=0.1\",\"\") + \".poster.jpg\"}>\n                <source src={desktopMediaData} type=\"video/mp4\" />\n                <ss.Text><Markdown>{mediaText}</Markdown></ss.Text>\n            </s.VideoTagRelativeDesktop>\n            <s.VideoTagRelativeMobile  \n                {...videoProps} {...(!mobile && disableAutoplay)} \n                poster={mobileMediaData.replace(\"#t=0.1\",\"\") + \".poster.jpg\"}>\n                <source src={mobileMediaData} type=\"video/mp4\" />\n                \n            </s.VideoTagRelativeMobile>\n            <ss.Text \n                elWidth={videoSpecs[0]} \n                emptyElement={mediaText.length == 0} \n                color={window.plusFeature.light.color}\n                colorDark={window.plusFeature.dark.color}\n                >\n                    <Markdown>{mediaText}</Markdown>\n                </ss.Text>\n                {styleThisEl.audio && \n                    <VideoAudio \n                        audioIconPosition={audioIconPosition} \n                        audioIconPositionRight={videoSpecs[0] / 2} \n                        iconColor={styleThisEl.iconColor[0]} \n                        videoContainer={videoRef} \n                        relative={true}\n                        soundOn={soundOn}\n                        setSound={setSound}\n                    />}\n                {styleThisEl.controls && \n                    <VideoPlay \n                        iconColor={styleThisEl.iconColor[0]} \n                        playIconPosition={videoSpecs[2]} \n                        videoContainer={videoRef} \n                    />}\n        </ss.MediaContainerRelative>\n    )\n}\n\nexport default VideoTag;\n\nVideoTag.propTypes = {\n    mobileMediaData: PropTypes.string, //mobile media url \n    desktopMediaData: PropTypes.string,  //desktop media url\n    id: PropTypes.string, //media url for error handling\n    positionAbsolute: PropTypes.bool, //position absolute in scrolly\n    mediaText: PropTypes.string, //text under video in position relative\n    mediaStyling: PropTypes.object, //array containing all styling from sheets\n    showScrollyMedia: PropTypes.bool,  //boolean from Scrolly deciding whether to show media \n    audioIconPosition: PropTypes.string, //for example 60px from top\n    scrollyTextFullyInScreen: PropTypes.bool, //boolean from Scrolly deciding whether to play video\n    headerVideo: PropTypes.bool //header video should be preloaded and auto playing\n}","import styled, { keyframes } from 'styled-components';\nimport {maxWidth, orientation} from '../../../lib/isDeviceMobile';\n\n\n/*\nexport const VideoTagAbsoluteDesktop = styled.video`\n    width: 100%;\n    height: ${props => props.height};\n    position: absolute;\n    left: 0;\n    max-width: 100%;\n    max-height: ${props => props.maxHeight};\n    object-fit: ${props => props.objectFit};\n    object-position: ${props => props.objectPositionDesktop}% 50%;\n\n    -webkit-transform: translateZ(0);\n    -webkit-backface-visibility: hidden;\n\n    @media (max-width: ${maxWidth}px) and (orientation: ${orientation}){\n        display: none;\n    }\n\n    \n`;\n\n*/\n\n/*\n\nexport const VideoTagAbsoluteMobile = styled.video`\n    width: 100%;\n    position: absolute;\n    left: 0;\n    height: ${props => props.height};\n    max-width: 100%;\n    max-height: ${props => props.maxHeight};\n    display: none;\n    object-fit: ${props => props.objectFit};\n    object-position: ${props => props.objectPositionMobile !== undefined ? props.objectPositionMobile : \"50\"}% 50%;\n\n    -webkit-transform: translateZ(0);\n    -webkit-backface-visibility: hidden;\n\n    @media (max-width: ${maxWidth}px) and (orientation: ${orientation}) {\n        display: block;\n    }\n`;\n*/\n\nexport const VideoTagAbsoluteDesktop = styled.video`\n    width: 100%;\n    position: absolute;\n    height: ${props => props.height};\n    max-width: 100%;\n    max-height: ${props => props.maxHeight};\n    top: ${props => props.top};\n    transform: translateY(-50%);\n    object-fit: ${props => props.objectFit};\n    display: inline;\n    object-position: ${props => props.objectPositionDesktop}% 50%;\n\n    @media (max-width: ${maxWidth}px) and (orientation: ${orientation}){\n        display: none;\n    }\n\n    \n`;\n\nexport const VideoTagAbsoluteMobile = styled.video`\n    width: 100%;\n    position: absolute;\n    height: ${props => props.height};\n    top: 50%;\n    transform: translateY(-50%);    \n    object-fit: cover;\n    display: none;\n    object-position: ${props => props.objectPositionMobile}% 50%;\n\n    @media (max-width: ${maxWidth}px) and (orientation: ${orientation}) {\n        display: block;\n    }\n`;\n\n\nexport const VideoTagRelativeDesktop = styled.video`\n    position: relative;\n    \n    max-width: 100%;\n    max-height: 90vh;\n    width: auto;\n    display: block;\n    margin: 12px auto 0;\n\n    @media (max-width: ${maxWidth}px) and (orientation: ${orientation}){\n        display: none;\n    }\n`;\n\nexport const VideoTagRelativeMobile = styled.video`\n    position: relative;\n    max-width: 100%;\n    width: auto;\n    display: none;\n    margin: 12px auto 0;\n    max-height: 90vh;\n    @media (max-width: ${maxWidth}px) and (orientation: ${orientation}){\n        display: block;\n    }\n`;\n\nexport const AudioButton = styled.button`\n    -webkit-appearance: none;\n    position: absolute;\n    top: ${props => props.audioIconPosition !== undefined ? props.audioIconPosition : !props.relative ? \"5px\" : \"35px\"};\n    right: ${props => props.audioIconPositionRight !== undefined && props.relative ? \"calc(50% - \" + props.audioIconPositionRight + \")\" : \"5px\"};;\n\n    background: transparent;\n    border-width: initial;\n    border-style: none;\n    border-color: initial;\n    border-image: initial;\n    padding: 0px;\n    cursor: pointer;\n    z-index:2;\n`;\n\nexport const PlayButton = styled.button`\n    top: ${props => props.playIconPosition !== undefined ? props.playIconPosition + \"px\" : \"calc(50% - 50px)\"};    \n    left: calc(50% - 50px);\n    position: absolute;\n    background: transparent;\n    border-width: initial;\n    border-style: none;\n    border-color: initial;\n    border-image: initial;\n    -webkit-appearance: none;\n    z-index:2;\n\n`;","import React, {useRef, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport * as s from './VideoTag.styled.js';\n\n    \nfunction VideoAudio(props){\n    const { \n        audioIconPosition, \n        audioIconPositionRight, \n        iconColor, \n        relative,\n        soundOn,\n        setSound\n    } = props;\n\n    function audioButtonClick(){\n        const newSoundOn = !soundOn;\n        setSound(newSoundOn)\n\n            const videoChildren = [...document.querySelectorAll('article video')]\n            videoChildren.map(video => {\n                video.muted = !video.muted\n                \n            })\n    }\n\n    \n    \n    return(\n        <>\n            <s.AudioButton \n                onClick={() => audioButtonClick(setSound)}\n                style={{display: soundOn ? \"none\" : \"block\"}}\n                audioIconPosition={audioIconPosition}\n                audioIconPositionRight={Math.round(audioIconPositionRight) - 5 + \"px\"}\n                relative={relative}\n                >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill={iconColor !== undefined ? iconColor : \"white\"} width=\"35\" height=\"35\">\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\">\n                    </path>\n                </svg>\n            </s.AudioButton>\n            <s.AudioButton \n                onClick={() => audioButtonClick(setSound)}\n                style={{display: soundOn ? \"block\" : \"none\"}}\n                audioIconPosition={audioIconPosition}\n                audioIconPositionRight={Math.round(audioIconPositionRight) - 5 + \"px\"}\n                relative={relative}\n\n                >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill={iconColor !== undefined ? iconColor : \"white\"} width=\"35\" height=\"35\">\n                    <path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\">\n                    </path>\n                </svg>\n            </s.AudioButton>\n        </>\n    )\n    \n}\n    \nexport default VideoAudio;","import React, {useRef, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport * as s from './VideoTag.styled.js';\n\nfunction VideoPlay(props){\n    const { \n        videoContainer, \n        iconColor, \n        playIconPosition\n    } = props;\n\n    const play = useRef(null);\n\n    function flipPlay(){\n        if(videoContainer.current !== null) {\n            //videos under ref\n            const videoChildren = [...videoContainer.current.querySelectorAll('video')]\n\n            videoChildren.map(video => {\n                const videoStyle = window.getComputedStyle(video);\n                if(videoStyle.display == \"block\" && video.paused) {\n                    video.readyState == 0 && video.load();\n                    video.play()\n                    play.current.style.opacity = 0;\n                } else if (videoStyle.display == \"block\" && !video.paused) {\n                    play.current.style.opacity = 1;\n                    video.pause();\n                }\n            })\n        }\n    }\n    \n    return(\n        <>\n            <s.PlayButton \n                ref={play} \n                onClick={() => flipPlay()}\n                style={{display: \"block\"}}\n                className=\"plusVideoPlayButton\"\n                playIconPosition={playIconPosition !== undefined ? playIconPosition / 2 - 20 :  undefined}\n                >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" fill={iconColor !== undefined ? iconColor : \"white\"} width=\"100\" height=\"100\">\n                    <path d=\"M99.6,48.4c-0.3-0.7-0.9-1.3-1.6-1.6L5.2,0.4C3.4-0.5,1.3,0.2,0.4,2C0.1,2.5,0,3,0,3.6v92.9c0,2,1.6,3.6,3.6,3.6c0.6,0,1.1-0.1,1.6-0.4L98,53.2C99.8,52.3,100.5,50.2,99.6,48.4z\"></path>\n                </svg>\n            </s.PlayButton>\n        </>\n    )\n    \n}\n    \nexport default VideoPlay;","import {useEffect} from 'react';\nimport {isElementCloseToViewport, videoRelativeCloseToViewport, isElementVisibleInViewport} from '../../../lib/viewportFunctions';\n\n\nexport function playPauseVideo(ref, controls, scrollyTextFullyInScreen, positionAbsolute, headerVideo){\n    useEffect(() => {\n\n        const closeToViewport = async () => {\n            if(ref.current !== null  && !controls) {\n                const containerStyle = window.getComputedStyle(ref.current);\n\n                //videos under ref\n                const videoChildren = [...ref.current.querySelectorAll('video')]\n\n                ////////////////\n                //CASE SCROLLY//\n                ////////////////\n\n                if(positionAbsolute && isElementCloseToViewport(ref.current, 1) && !headerVideo) {\n                    await Promise.all(videoChildren.map(video => {\n                        const videoStyle = window.getComputedStyle(video);\n                        //play paused videos that are visible - only play desktop video on desktop\n                        if(video.paused && videoStyle.display !== \"none\" && containerStyle.display !== \"none\") {\n                            //load video close enough to viewport\n                            video.readyState == 0 && video.load();\n                            //play video when in viewport\n                            scrollyTextFullyInScreen ? video.play() : null;\n                        //pause video if scrollyText is not fully in screen\n                        } else if (!video.paused && !scrollyTextFullyInScreen) {\n                            video.pause();\n                        }\n                    }))\n\n                /////////////////\n                //CASE RELATIVE//\n                /////////////////\n\n                } else if (!positionAbsolute && videoRelativeCloseToViewport(ref.current, .85) || headerVideo && videoRelativeCloseToViewport(ref.current, .85)) {\n                    await Promise.all(videoChildren.map(video => {\n                        const videoStyle = window.getComputedStyle(video);\n                        \n                        //play paused videos that are visible - only play desktop video on desktop\n                        if(video.paused && videoStyle.display !== \"none\" && containerStyle.display !== \"none\") {\n                            //load video close enough to viewport\n                            video.readyState == 0 && video.load();\n                            //play video when in viewport\n                            video.play();\n                        }\n                    }))\n                } else if (!positionAbsolute && !videoRelativeCloseToViewport(ref.current, .85) || headerVideo && !videoRelativeCloseToViewport(ref.current, .85)) {\n                    await Promise.all(videoChildren.map(video => {\n                        video.pause();\n                    }))\n                }\n            ////////////////////////\n            //VIDEOS WITH CONTROLS//\n            ////////////////////////\n            \n            } else if (ref.current !== null  && controls) {\n                if (!videoRelativeCloseToViewport(ref.current, .85) || !scrollyTextFullyInScreen && positionAbsolute) {\n                    //console.log(scrollyTextFullyInScreen, ref.current)\n                    //videos under ref\n                    const videoChildren = [...ref.current.querySelectorAll('video')]\n                    //console.log(ref.current, new Date())\n                    await Promise.all(videoChildren.map(video => {\n                        //video pause is promise\n                        !video.paused && video.pause()\n                        const button = ref.current.querySelector(\".plusVideoPlayButton\")\n                        button.style.opacity = 1;\n                    }))\n                }\n            }\n\n            //Enter animation\n            if(!positionAbsolute && isElementVisibleInViewport(ref.current) && !ref.current.classList.contains(\"animatePlusFeatureVisual\")) {\n                ref.current.classList.add(\"animatePlusFeatureVisual\")\n            }\n        };\n        window.addEventListener(\"scroll\", closeToViewport, { passive: true });\n        //document.getElementById(\"app\").addEventListener(\"scroll\", closeToViewport, { passive: true });\n        return () => window.removeEventListener(\"scroll\", closeToViewport);\n        //return () => document.getElementById(\"app\").removeEventListener(\"scroll\", closeToViewport);\n    }, [scrollyTextFullyInScreen]);\n    \n}\n\nexport function stopRelativeAutoplayVideosWhileInScrolly(className) {\n    const videoChildren = [...document.querySelectorAll(className + ' video')]\n    videoChildren.map(video => {\n        !video.paused && video.pause()\n    })\n}","import React, {useEffect, useState} from 'react';\nimport * as s from './SwipingFinger.styled.js';\n\nfunction scrollFunction(){\n    const [scrolled, setScrolled] = useState(false);\n\n    useEffect(() => {\n        document.getElementById(\"app\").addEventListener(\"scroll\", () => setScrolled(true), { passive: true });\n        return () => window.removeEventListener(\"scroll\", setScrolled);\n    }, [])\n    return scrolled\n}\n\nfunction SwipingFinger(props){\n\n    const { color } = props;\n    const scrolled = scrollFunction();\n    \n\t\n\n    return(\n        <s.IconAndText showGuide={!scrolled}>\n            <s.SVGel width=\"50px\" height=\"50px\">\n            <path fill={color} d=\"M20,4c-0.9375,0-1.8945312,0.320313-2.671875,0.976563C16.5546875,5.6289058,16,6.6679692,16,7.898438V29.3125\n        \t\tl-3.34375-3.8671875c-0.0078115-0.0078125-0.015625-0.015625-0.0234365-0.0234375\n        \t\tC10.953125,23.6132812,8.0820312,23.625,6.3125,25.3789062c-1.8007808,1.6875-1.7851558,4.5625-0.0195308,6.328125\n        \t\tl-0.0820312-0.09375L17.8007812,46.5c1.6875,2.25,4.3046875,3.5,7.1015625,3.5H33c4.9453125,0,9-4.0546875,9-9V23\n        \t\tc0-0.7460938-0.0234375-1.8789062-0.546875-2.9609375C40.9257812,18.9570312,39.7109375,18,38,18\n        \t\tc-0.9414062,0-1.6914062,0.3164062-2.296875,0.7578125c-0.1523438-0.5234375-0.3476562-1.0117188-0.65625-1.4179688\n        \t\tC34.3398438,16.4257812,33.203125,16,32,16c-1.1132812,0-1.9804688,0.4101562-2.640625,0.9726562\n        \t\tC28.6953125,15.8671885,27.5664062,15,26,15c-0.7773438,0-1.421875,0.2539062-2,0.5976562V8\n        \t\tc0-1.265625-0.5429688-2.328125-1.3164062-3.0039058S20.9414062,4,20,4z M20,6c0.4648438,0,0.9960938,0.179688,1.3710938,0.5039058\n        \t\tC21.7460938,6.828125,22,7.265625,22,8v10.9335938C22,18.953125,22,18.9765625,22,19v4\n        \t\tc-0.0039062,0.359375,0.1835938,0.6953125,0.4960938,0.8789062c0.3125,0.1796875,0.6953125,0.1796875,1.0078125,0\n        \t\tC23.8164062,23.6953125,24.0039062,23.359375,24,23v-3.9609375c0-0.0078125,0-0.015625,0-0.0234375\n        \t\tC24.0039062,19.0078125,24.0039062,19.0039062,24,19c0-0.875,0.6640625-2,2-2c1.3320312,0,1.9921875,1.109375,2,1.984375\n        \t\tC28,18.9882812,28,18.9960938,28,19v3c0.0078125,0.546875,0.453125,0.984375,1,0.984375S29.9921875,22.546875,30,22v-1.9609375\n        \t\tC30,20.0273438,30,20.0117188,30,20c0-0.5351562,0.1445312-1.0585938,0.4179688-1.3984375S31.0820312,18,32,18\n        \t\tc0.8007812,0,1.1640625,0.1757812,1.4570312,0.5625C33.7539062,18.9453125,34,19.71875,34,21v2\n        \t\tc0.0039062,0.0664062,0.0117188,0.1328125,0.0273438,0.1992188c0.0195312,0.0976562,0.0546875,0.1914062,0.1015625,0.28125\n        \t\tc0.0195312,0.0273438,0.0351562,0.0546875,0.0585938,0.0820312c0.0351562,0.0546875,0.0820312,0.1054688,0.1289062,0.1523438\n        \t\tc0.046875,0.0429688,0.1015625,0.0859375,0.15625,0.1210938C34.5,23.8515625,34.53125,23.8671875,34.5625,23.8828125\n        \t\tc0.0585938,0.03125,0.1210938,0.0546875,0.1875,0.0703125c0.1289062,0.0351562,0.2617188,0.0429688,0.3945312,0.0234375\n        \t\tc0.0976562-0.015625,0.1953125-0.0429688,0.2890625-0.0859375c0.0273438-0.015625,0.0585938-0.03125,0.0859375-0.046875\n        \t\tc0.0585938-0.0351562,0.109375-0.0742188,0.1601562-0.1210938c0.0234375-0.0234375,0.046875-0.046875,0.0703125-0.0703125\n        \t\tc0.109375-0.1289062,0.1875-0.2773438,0.2265625-0.4414062c0.0078125-0.03125,0.0117188-0.0664062,0.0195312-0.0976562\n        \t\tC36,23.0820312,36,23.046875,36,23.015625C36.0039062,23.0078125,36.0039062,23.0039062,36,23\n        \t\tc0-0.6523438,0.0742188-1.5195312,0.3515625-2.0898438C36.6289062,20.34375,36.9101562,20,38,20\n        \t\tc1.09375,0,1.375,0.34375,1.6523438,0.9101562C39.9296875,21.4804688,40,22.3476562,40,23v18c0,3.8554688-3.1445312,7-7,7\n        \t\th-8.0976562c-2.2070312,0-4.1914062-0.9492188-5.5-2.6992188c-0.0039062-0.0039062-0.0078125-0.0117188-0.0117188-0.015625\n        \t\tL7.789063,30.3867188c-0.0273438-0.0351562-0.054688-0.0664062-0.0820322-0.09375\n        \t\tc-1.03125-1.03125-1.015625-2.5429688-0.0273428-3.4609375c0.007812-0.0078125,0.0195312-0.015625,0.0273428-0.0234375\n        \t\tc1.0273442-1.03125,2.5429692-1.015625,3.460938-0.0273438l5.078125,5.875c0.2695312,0.3125,0.7109375,0.4257812,1.1015625,0.28125\n        \t\tC17.7382812,32.7890625,18,32.4179688,18,32V7.898438C18,7.2304692,18.2460938,6.820313,18.625,6.5C19,6.179688,19.5390625,6,20,6z\n        \t\t\"/>\n            </s.SVGel>\n            <s.InfoText color={color}>Selaa eteenpäin</s.InfoText>\n        </s.IconAndText>\n    )\n\n}\n\nexport default SwipingFinger;\n\n","import styled, { keyframes } from 'styled-components';\n\nconst showAnimation = keyframes`\n    0% { transform: translateY(0px) }\n    50% { transform: translateY(10px) }\n    100% { transform: translateY(0px) }\n`\n\n\nconst hideAnimation = keyframes`\n    0% { opacity: 1; }\n    100% { opacity: 0; } \n`\n\nexport const SVGel = styled.svg`\n    display: block;\n    margin: auto;\n    transform: rotate(-45deg);\n`;\n\nexport const IconAndText = styled.div`\n    position: absolute;\n    z-index: 2;\n    top: 45vh;\n    transition: opacity 500ms ease;\n    width: 100%;\n    animation-name: ${props => props.showGuide ? showAnimation : hideAnimation};\n    animation-iteration-count: ${props => props.showGuide ? \"infinite\" : \"1\"};\n    animation-fill-mode: forwards;\n    animation-duration: 1000ms;\n    animation-timing-function: cubic-bezier(0.550, 0.085, 0.680, 0.530);\n    opacity: 1;\n`;\n\nexport const InfoText = styled.p`\n    color: ${props => props.color};\n    text-align: center;\n`;\n","import React, {useState, useRef, useEffect, useCallback} from 'react';\nimport * as s from './ShareButtons.styled';\nimport {isUsingApp} from '../../../lib/isUsingApp'\n\n\nfunction changeSomeButtonUrl(someHref) {\n    const ref = useRef(null)\n    const setRef = useCallback(node => {\n      if (ref.current) {\n        // Make sure to cleanup any events/references added to the last instance\n      }\n      \n      if (node) {\n        // Check if a node is actually passed. Otherwise node would be null.\n        // You can now do what you need to, addEventListeners, measure, etc.\n        node.href = someHref;\n        //change icon visibility - no icons in yle.fi app\n        //node.style.display = currentUrl.includes(\"article-renderer\") ? \"none\" : \"block\";\n      }\n      \n      // Save a reference to the node\n      ref.current = node\n    }, [])\n    \n    return [setRef]\n}\n\nfunction closeMenu(setShowMenu, ref){\n\n    useEffect(() => {\n        //flips image opacity based on if text is in viewport\n        const clickedOutsideMenu = (event) => {\n            if(ref.current !== null) {\n                if(event.target !== ref.current && event.target.parentNode !== ref.current) {\n                    setShowMenu(false)\n                }\n            }\n        };\n        window.addEventListener(\"mouseup\", clickedOutsideMenu, { passive: true });\n        return () => window.removeEventListener(\"mouseup\", clickedOutsideMenu);\n    }, []);\n    \n}\n\n\n\nfunction ShareIcon(props) {\n    const {fill} = props;\n    \n    return (\n        <svg height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\">\n            <s.Path fill={fill} d=\"M12.7071 2.29289C12.3166 1.90237 11.6834 1.90237 11.2929 2.29289L6.29289 7.29289C5.90237 7.68342 5.90237 8.31658 6.29289 8.70711C6.68342 9.09763 7.31658 9.09763 7.70711 8.70711L11 5.41421V15C11 15.5523 11.4477 16 12 16C12.5523 16 13 15.5523 13 15V5.41421L16.2929 8.70711C16.6834 9.09763 17.3166 9.09763 17.7071 8.70711C18.0976 8.31658 18.0976 7.68342 17.7071 7.29289L12.7071 2.29289ZM4 15C4 14.4477 3.55228 14 3 14C2.44772 14 2 14.4477 2 15V19C2 19.7956 2.31608 20.5587 2.87866 21.1213C3.44128 21.684 4.20437 22 5 22H19C19.7956 22 20.5587 21.6839 21.1213 21.1213C21.6839 20.5587 22 19.7956 22 19V15C22 14.4477 21.5523 14 21 14C20.4477 14 20 14.4477 20 15V19C20 19.2652 19.8947 19.5195 19.7071 19.7071C19.5195 19.8947 19.2652 20 19 20H5C4.73477 20 4.48043 19.8946 4.29292 19.7071C4.10534 19.5195 4 19.2652 4 19V15Z\"></s.Path>\n        </svg>\n    )\n}\n\nconst Twitter = () => <svg aria-label=\"\" fill=\"#000000\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M23.1539 5.13092C22.3301 5.49231 21.4523 5.73185 20.537 5.84815C21.4786 5.286 22.1972 4.40262 22.535 3.33785C21.6572 3.86123 20.6879 4.23092 19.655 4.43723C18.8215 3.54969 17.6335 3 16.3375 3C13.823 3 11.7987 5.04092 11.7987 7.54292C11.7987 7.90292 11.8292 8.24908 11.9039 8.57862C8.1281 8.39446 4.78702 6.58477 2.54256 3.828C2.15072 4.50785 1.92087 5.286 1.92087 6.12369C1.92087 7.69662 2.73087 9.09092 3.93825 9.89815C3.20856 9.88431 2.49272 9.67246 1.88625 9.33877C1.88625 9.35262 1.88625 9.37062 1.88625 9.38862C1.88625 11.5957 3.46056 13.4289 5.52502 13.8512C5.15533 13.9523 4.75241 14.0008 4.33425 14.0008C4.04348 14.0008 3.74995 13.9842 3.47441 13.9232C4.06287 15.7218 5.73272 17.0442 7.71825 17.0871C6.17302 18.2958 4.21102 19.0242 2.08702 19.0242C1.82417 19.0242 1.70746 19.3895 1.93968 19.5126C3.73883 20.4667 5.78588 21 7.96748 21C16.325 21 20.8943 14.0769 20.8943 8.076C20.8943 7.87523 20.8873 7.68139 20.8776 7.48892C21.779 6.84923 22.5364 6.05031 23.1539 5.13092Z\"></path></svg>\nconst Facebook = () => <svg aria-label=\"\" fill=\"#000000\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M15.286 3H14.07c-2.18 0-3.65 1.31-3.64 3.643V9.07H8v2.43h2.42l.009 8.5h2.428v-8.5h2.064l.365-2.429h-2.429V6.984c0-1.555.694-1.555 1.85-1.555h.579V3z\"></path></svg>\nconst Whatsapp = () => <svg aria-label=\"\" fill=\"#000000\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M19.1939 4.80609C17.3844 2.99652 14.9785 2 12.4194 2C9.86035 2 7.45441 2.99652 5.64484 4.80609C3.83527 6.61566 2.83879 9.02152 2.83879 11.5806C2.83879 13.2016 3.24914 14.7946 4.02805 16.2057L2 22L7.79426 19.972C9.20535 20.7508 10.7983 21.1612 12.4194 21.1612C14.9784 21.1612 17.3844 20.1646 19.1939 18.3551C21.0034 16.5456 22 14.1397 22 11.5806C22 9.02148 21.0034 6.61562 19.1939 4.80609ZM17.1557 15.1396L16.0496 16.2457C15.1334 17.162 12.5336 16.0478 10.2429 13.7571C7.95219 11.4664 6.83801 8.86668 7.7543 7.95039L8.86031 6.84438C9.08938 6.61531 9.46078 6.61531 9.68984 6.84438L11.0724 8.22691C11.3014 8.45598 11.3014 8.82738 11.0724 9.05645L10.2429 9.88598C11.0475 11.5847 12.4153 12.9525 14.114 13.7571L14.9436 12.9276C15.1726 12.6985 15.544 12.6985 15.7731 12.9276L17.1556 14.3101C17.3847 14.5392 17.3847 14.9106 17.1557 15.1396Z\"></path></svg>\nconst LinkedIn = () => <svg aria-label=\"\" fill=\"#000000\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M2.3999 4.7039C2.3999 3.4319 3.4319 2.3999 4.7039 2.3999C5.9759 2.3999 7.0079 3.4319 7.0079 4.7039C7.0079 5.9759 5.9759 7.0319 4.7039 7.0319C3.4319 7.0319 2.3999 5.9759 2.3999 4.7039ZM16.8239 8.47192C20.8559 8.47192 21.5999 11.0867 21.5999 14.5679L21.7447 20.5517C21.7583 21.1133 21.3068 21.5759 20.745 21.5759H18.6159C18.0636 21.5759 17.6159 21.1282 17.6159 20.5759V15.3359C17.6159 13.8479 17.5919 11.9519 15.5519 11.9519C13.4879 11.9519 13.1759 13.5599 13.1759 15.2399V20.5999C13.1759 21.1522 12.7282 21.5999 12.1759 21.5999H10.1919C9.63962 21.5999 9.19189 21.1522 9.19189 20.5999V9.78392C9.19189 9.23164 9.63962 8.78392 10.1919 8.78392H12.0079C12.5602 8.78392 13.0079 9.23164 13.0079 9.78392V10.5359H13.0559C13.5839 9.52793 14.8799 8.47192 16.8239 8.47192ZM2.71191 9.78394C2.71191 9.23165 3.15963 8.78394 3.71191 8.78394H5.69591C6.2482 8.78394 6.69591 9.23165 6.69591 9.78394V20.5999C6.69591 21.1522 6.2482 21.5999 5.69591 21.5999H3.71191C3.15963 21.5999 2.71191 21.1522 2.71191 20.5999V9.78394Z\"></path></svg>\nconst Email = () => <svg aria-label=\"\" fill=\"#000000\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M1 5.99732L1 18C1 19.6523 2.34772 21 4 21H20C21.6523 21 23 19.6523 23 18V6.01662L23.0001 6.00217C23.0002 5.99397 23.0001 5.98577 22.9999 5.97757C22.9878 4.33554 21.6448 3 20 3H4C2.34861 3 1.00146 4.34626 1 5.99732ZM3.10657 5.55396C3.27195 5.22693 3.61203 5 4 5H20C20.388 5 20.7281 5.22696 20.8935 5.55404L12.0001 11.7794L3.10657 5.55396ZM21 7.92077V18C21 18.5477 20.5477 19 20 19H4C3.45228 19 3 18.5477 3 18V7.92069L11.4266 13.8193C11.7709 14.0603 12.2292 14.0603 12.5735 13.8193L21 7.92077Z\"></path></svg>\nconst Copy = () => <svg aria-label=\"\" fill=\"#000000\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M3.17157 9.17157C3.92172 8.42143 4.93913 8 6 8H9C9.55229 8 10 7.55228 10 7C10 6.44772 9.55229 6 9 6H6C4.4087 6 2.88258 6.63214 1.75736 7.75736C0.632141 8.88258 0 10.4087 0 12C0 13.5913 0.632141 15.1174 1.75736 16.2426C2.31451 16.7998 2.97595 17.2417 3.7039 17.5433C4.43185 17.8448 5.21207 18 6 18H9C9.55229 18 10 17.5523 10 17C10 16.4477 9.55229 16 9 16H6C5.47471 16 4.95457 15.8965 4.46927 15.6955C3.98396 15.4945 3.54301 15.1999 3.17157 14.8284C2.42143 14.0783 2 13.0609 2 12C2 10.9391 2.42143 9.92172 3.17157 9.17157ZM15 6C14.4477 6 14 6.44772 14 7C14 7.55228 14.4477 8 15 8H18C18.5253 8 19.0454 8.10346 19.5307 8.30448C20.016 8.5055 20.457 8.80014 20.8284 9.17157C21.1999 9.54301 21.4945 9.98396 21.6955 10.4693C21.8965 10.9546 22 11.4747 22 12C22 12.5253 21.8965 13.0454 21.6955 13.5307C21.4945 14.016 21.1999 14.457 20.8284 14.8284C20.457 15.1999 20.016 15.4945 19.5307 15.6955C19.0454 15.8965 18.5253 16 18 16H15C14.4477 16 14 16.4477 14 17C14 17.5523 14.4477 18 15 18H18C18.7879 18 19.5681 17.8448 20.2961 17.5433C21.0241 17.2417 21.6855 16.7998 22.2426 16.2426C22.7998 15.6855 23.2417 15.0241 23.5433 14.2961C23.8448 13.5681 24 12.7879 24 12C24 11.2121 23.8448 10.4319 23.5433 9.7039C23.2417 8.97595 22.7998 8.31451 22.2426 7.75736C21.6855 7.20021 21.0241 6.75825 20.2961 6.45672C19.5681 6.15519 18.7879 6 18 6H15ZM8 11C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13H16C16.5523 13 17 12.5523 17 12C17 11.4477 16.5523 11 16 11H8Z\"></path></svg>\n\nconst copyToClipboard = str => {\n    const el = document.createElement('textarea');\n    el.value = str;\n    document.body.appendChild(el);\n    el.select();\n    document.execCommand('copy');\n    document.body.removeChild(el);\n  };\n\nexport default function ShareButtons(props){\n    const {eskoHeadline, eskoLead, uutisetOrUrheilu} = props;\n\n    const [showMenu, setShowMenu] = useState(false)\n\n    const currentUrl = window.location.href;\n   \n    const shareWhatsapp = currentUrl + \"?utm_source=whatsapp-share&utm_medium=social\";\n    const whatsappCopy = eskoHeadline;\n    const whatsappHref= \"whatsapp://send?text=\" + encodeURIComponent(whatsappCopy) + encodeURIComponent(' ') + shareWhatsapp + \"&display=popup&ref=plugin&src=like&kid_directed_site=0\";\n    const [whatsappEl] = changeSomeButtonUrl(whatsappHref)\n\n    const shareTwitter = currentUrl + \"?utm_source=twitter-share&utm_medium=social\";\n    const twitterCopy = uutisetOrUrheilu == \"uutiset\" ? eskoHeadline + \" #yleuutiset\" : eskoHeadline + \" #yleurheilu\";\n    const twitterHref= \"https://twitter.com/intent/tweet?original_referer=\" + encodeURIComponent(shareTwitter) + \"&ref_src=twsrc%5Etfw&text=\" + encodeURIComponent(twitterCopy) + \"&tw_p=tweetbutton&url=\" + encodeURIComponent(shareTwitter);\n    const [twitterEl] = changeSomeButtonUrl(twitterHref)\n\n    const facebookHref = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(currentUrl)}&display=popup&ref=plugin&src=like&kid_directed_site=0`\n    const [facebookEl] = changeSomeButtonUrl(facebookHref)\n\n    const linkedInHref = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(currentUrl)}`\n    const [linkedInEl] = changeSomeButtonUrl(linkedInHref)\n\n    const emailHref = `mailto:?subject=${encodeURIComponent(eskoHeadline)}&body=${encodeURIComponent(eskoLead)}%0D%0A%0D%0A${encodeURIComponent(currentUrl)}`\n    const [emailEl] = changeSomeButtonUrl(emailHref)\n\n    const shareMenu = useRef(null);\n    closeMenu(setShowMenu, shareMenu)\n\n    return(\n        <s.ShareButtonsContainer isUsingApp={isUsingApp()}>\n            <s.ShareButton onClick={() => setShowMenu(!showMenu)}>\n                <ShareIcon fill={window.matchMedia('(prefers-color-scheme: dark)').matches ? window.plusFeature.dark.color : window.plusFeature.light.color} />\n            </s.ShareButton>\n            <s.ShareNavi showMenu={showMenu} ref={shareMenu}>\n                <s.Ul role=\"menubar\" aria-label=\"Jaa artikkeli\">\n                    <s.Li role=\"none\">\n                        <s.Link ref={twitterEl} target=\"_blank\" href=\"\" role=\"menuitem\" aria-label=\"Jaa artikkeli Twitterissä\">\n                            <s.SVGandText>\n                                <Twitter />\n                                <s.SomeText>Twitter</s.SomeText>\n                            </s.SVGandText>\n                        </s.Link>\n                    </s.Li>\n                    <s.Li role=\"none\">\n                        <s.Link ref={facebookEl} target=\"_blank\" role=\"menuitem\" aria-label=\"Jaa artikkeli Facebookissa\">\n                            <s.SVGandText>\n                                <Facebook />\n                                <s.SomeText>Facebook</s.SomeText>\n                            </s.SVGandText>\n                        </s.Link>\n                    </s.Li>\n                    <s.Li role=\"none\">\n                        <s.Link ref={whatsappEl} role=\"menuitem\" aria-label=\"Jaa artikkeli Whatsappissa\">\n                            <s.SVGandText>\n                                <Whatsapp />\n                                <s.SomeText>Whatsapp</s.SomeText>\n                            </s.SVGandText>\n                        </s.Link>\n                    </s.Li>\n                    <s.Li role=\"none\">\n                        <s.Link ref={linkedInEl} target=\"_blank\" role=\"menuitem\" aria-label=\"Jaa artikkeli Linkedinissä\">\n                            <s.SVGandText>\n                                <LinkedIn />\n                                <s.SomeText>Linkedin</s.SomeText>\n                            </s.SVGandText>\n                        </s.Link>\n                    </s.Li>\n                    <s.Li role=\"none\">\n                        <s.Link ref={emailEl} role=\"menuitem\" aria-label=\"Jaa artikkeli sähköpostilla\">\n                            <s.SVGandText>\n                                <Email />\n                                <s.SomeText>Sähköposti</s.SomeText>\n                            </s.SVGandText>\n                        </s.Link>\n                    </s.Li>\n                    <s.Li role=\"none\">\n                        <s.Link onClick={() => copyToClipboard(currentUrl)} role=\"menuitem\" aria-label=\"Kopioi linkki\">\n                            <s.SVGandText>\n                                <Copy />\n                                <s.SomeText>Kopioi linkki</s.SomeText>\n                            </s.SVGandText>\n                        </s.Link>\n                    </s.Li>\n                </s.Ul>\n                \n            </s.ShareNavi>\n        </s.ShareButtonsContainer>\n    )\n}","import styled from 'styled-components';\n\nexport const ShareButtonsContainer = styled.div`\n    padding-right: 10px;\n    text-align: center;\n    margin-bottom: 13px;\n    position: relative;\n    display: ${props => props.isUsingApp ? \"none\" : \"flex\"};\n`;\n\nexport const ShareButton = styled.button`\n    width: 48px;\n    height: 48px;\n    margin: auto;\n    -webkit-box-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    justify-content: center;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n`;\n\n\nexport const OnlyMobileLink = styled.a`\n    display: none;\n\n    @media only screen and (max-width: 700px) {\n        display: block;\n    }\n`;\n\nexport const ShareNavi = styled.nav`\n    background: rgb(255, 255, 255);\n    border-radius: 8px;\n    box-shadow: rgb(0 0 0 / 30%) 0px 1px 8px;\n    position: absolute;\n    top: 48px;\n    left: 50%;\n    transition: opacity 0.4s ease 0s, transform 0.4s ease 0s, visibility 0.4s ease 0s;\n    z-index: 75;\n    opacity: 1;\n    visibility: ${props => props.showMenu ? \"visible\" : \"hidden\"};\n    transform: translateY(0px);\n`;\n\nexport const Ul = styled.ul`\n    list-style-type: none;\n`;\n\nexport const Li = styled.li`\n    display: list-item;\n    text-align: -webkit-match-parent;\n\n    &:first-child {\n        border-top-left-radius: 8px;\n        border-top-right-radius: 8px;\n    }\n\n    &:hover {\n        background: rgba(235,235,238,.6);\n    }\n`;\n\nexport const Link = styled.a`\n    cursor: pointer;\n    text-decoration: none;\n    user-select: none;\n    color: inherit;\n`;\n\nexport const SVGandText = styled.div`\n    -webkit-box-align: center;\n    align-items: center;\n    border-bottom: 1px solid rgb(232, 233, 235);\n    display: flex;\n    padding: 16px 0px;\n    margin: 0px 16px;\n    width: 140px;\n`;\n\nexport const SomeText = styled.span`\n    color: rgb(0, 0, 0);\n    font-size: 12px;\n    padding-left: 16px;\n    font-family: \"Open Sans\", sans-serif;\n    font-weight: 400;\n`;\n\nexport const Path = styled.path`\n    \n`;","import React, {useEffect, useState} from 'react';\nimport * as s from './ProgressBar.styled.js';\nimport {isUsingApp} from '../../../lib/isUsingApp'\nimport {viewportSize} from '../../../lib/viewportFunctions'\n\nfunction scrollFunction(querySelector){\n    const [scrollProgress, setScrollProgress] = useState(false);\n\n    useEffect(() => {\n        const progressInQuery = (querySelector) => {\n            const el = document.querySelector(querySelector)\n            if(el !== null) {\n                const commentsEl = document.querySelector(\"#yle-comments-plugin\")\n                const commentsHeight = commentsEl !== null ? commentsEl.getBoundingClientRect().height : 0;\n                let progress = window.scrollY / (el[\"scrollHeight\"] - viewportSize(\"height\") - commentsHeight)\n                progress = progress * 100;\n                progress = progress < 100 ? progress + \"%\" : \"100%\";\n                setScrollProgress(progress)\n            }\n            \n        }\n        //document.getElementById(\"app\").addEventListener(\"scroll\", () => progressInQuery(querySelector), { passive: true });\n        window.addEventListener(\"scroll\", () => progressInQuery(querySelector), { passive: true });\n        //return () => document.getElementById(\"app\").removeEventListener(\"scroll\", progressInQuery);\n        return () => window.removeEventListener(\"scroll\", progressInQuery);\n    },[scrollProgress])\n    return scrollProgress\n}\n\nfunction ProgressBar(props){\n\n    const { color, querySelector } = props;\n    const scrollProgress = scrollFunction(querySelector);\n\n    const mainElement = document.querySelector(querySelector);\n    const progressInMain = document.querySelector(querySelector + \" > .featureProgressBar\");\n    const progressElement = document.querySelector(\".featureProgressBar\");\n\n\n    progressElement !== null && progressInMain == null && mainElement.appendChild(progressElement)\n\n    //no margin in Yle.fi app\n    const marginTop = isUsingApp() ? \"0px\" : \"50px\"\n    \n    return <s.Bar className=\"featureProgressBar\" style={{width: scrollProgress, top: marginTop}} color={color} />\n\n}\n\nexport default ProgressBar;\n\n","import styled, { keyframes } from 'styled-components';\n\nexport const Bar = styled.div`\n    width: ${props => props.currentProgress};\n    background-color: ${props => props.color};\n    height: 3px;\n    position: fixed;\n    z-index: 100;\n    backface-visibility: hidden;\n    -webkit-backface-visibility: hidden;\n    width: 500ms ease-in-out;\n`;","import React from 'react';\nimport * as s from './darkSoulHeroText.styled.js';\n\nfunction DarkSoulHeroText(props) {\n  return (\n    <s.FullWidthContainer>\n\n       <s.Container isMobile={props.isMobile}>\n       <s.Symbol isMobile={props.isMobile}>\n        <img src={\"https://lusi-dataviz.ylestatic.fi/2020-11-featurepohja/fynd/kc-logo.png\"}/>\n      </s.Symbol>\n           <h1 dangerouslySetInnerHTML={{__html: props.text}}></h1></s.Container>\n    </s.FullWidthContainer>\n  );\n}\n\nexport default DarkSoulHeroText\n","import styled from 'styled-components';\n\n\nexport const Container = styled.div`\n  display: flex;\n  z-index: 2;\n  flex-direction: column;\n  font-weight: bold;\n  max-width: 600px;\n  height: 100%;\n  & h1 {\n    line-height: 1.1;\n    font-size: 40px;\n    font-weight: bold;\n    font-family: 'EB Garamond';\n    position: absolute;\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n    text-align: center;\n    width: 100%;\n    text-align: center;\n    & span {\n      display: block;\n   }\n    ${props => !props.isMobile &&\n    `\n    font-size: 5em;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    `}\n  }\n`;\n\nexport const FullWidthContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n`;\n\nexport const Symbol = styled.div`\n  z-index: 2;\n  margin-bottom: 50px;\n  display: block;\n  & img {\n    height: 5vh;\n    ${props => props.isMobile ? \"padding-top: 12vh\" : \"padding-top: 14px\"}\n  }\n`;","import React, { useEffect, useRef, useState } from 'react';\nimport { isDeviceMobile } from '../../lib/isDeviceMobile';\nimport * as s from './scollingVideo.styled';\nimport PropTypes from 'prop-types';\n\nScrollingVideo.propTypes = {\n  url: PropTypes.string.isRequired,\n};\nlet disableScroll = true;\nfunction ScrollingVideo(props) {\n  const videoRef = useRef();\n  const heightSetterRef = useRef();\n  const [height, setHeight] = useState(null);\n  const [showTitle, setShowTitle] = useState(false)\n\n  const playbackConst = 500; // lower the number, faster the playback.\n  const limitedScrolling = ScrollingSpeedLimiter();\n\n  useEffect(() => {\n    const vid = videoRef.current;\n    if (!vid) return;\n      vid.loop = props.delay === null || !props.delay;\n     let isMounted = true;\n    if (props.delay) {\n      vid.addEventListener('ended', endHandler, false);\n      function endHandler(e) {\n        setTimeout(function () {\n          vid.play();\n        }, parseInt(props.delay) * 1000);\n      }\n    }\n\n    if (false && props.titleDelay) {\n      vid.addEventListener('timeupdate', progressHandler, false);\n      function progressHandler(e) {\n      if(vid.currentTime > props.titleDelay) {\n        setShowTitle(true)\n        vid.removeEventListener('timeupdate', progressHandler, false);\n      }\n      }\n    }\n    vid.addEventListener('loadedmetadata', function () {\n      // play & pause needed to make video visible in mobile devices\n      if (disableScroll) {\n        if(props.isHeader) {\n        if (document.readyState === 'complete') {\n          vid.play();\n        } else {\n          window.addEventListener('load', () =>  vid.play());\n        }\n      }\n\n\n        setHeight(window.innerHeight);\n\n\n        return;\n      }\n\n      if (isMounted) setHeight(Math.floor(vid.duration) * playbackConst + window.innerHeight);\n      vid.play();\n      vid.pause();\n      scrollPlay({ videoRef, heightSetterRef, playbackConst, limitedScrolling });\n    });\n    return () => {\n      isMounted = false;\n    };\n  }, [videoRef.current]);\n\n  return (\n    <s.HeightSetter ref={heightSetterRef} height={height || \"100vh\"}>\n      <s.StickyHolder>\n        {props.children}\n        <s.VideoElement\n          ref={videoRef}\n          preload=\"auto\"\n          muted\n          autoPlay={!props.isHeader}\n          disableRemotePlayback\n          type=\"video/mp4\"\n          src={props.url}\n          playsInline\n          style={{ height: '99vh' }}\n        ></s.VideoElement>\n      </s.StickyHolder>\n    </s.HeightSetter>\n  );\n}\n\nfunction scrollPlay(params) {\n  const { videoRef, heightSetterRef, playbackConst, limitedScrolling } = params;\n\n  const vid = videoRef.current;\n  if (!vid || !heightSetterRef.current) return;\n\n  let frameNumber = checkHeight(heightSetterRef.current.offsetTop, frameNumber || 0, playbackConst);\n\n  const jumpInVideo = (time) => {\n    vid.currentTime = time;\n  };\n\n  const videoAboveViewport = frameNumber > vid.duration + 1;\n  const videoBelowViewport = frameNumber < 0;\n\n  if (videoAboveViewport || videoBelowViewport) {\n    if (videoBelowViewport) {\n      limitedScrolling.reset(0);\n      jumpInVideo(0);\n    }\n\n    if (videoAboveViewport) {\n      limitedScrolling.reset(vid.duration);\n      jumpInVideo(vid.duration);\n    }\n\n    window.setTimeout(() => {\n      window.requestAnimationFrame(() => scrollPlay(params));\n    }, 100);\n    return;\n  }\n\n  const capped = limitedScrolling.set(frameNumber, vid.duration);\n\n  const isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\n  const throttledFirefox = throttle(40); // This is used to throttle jumps in video in FF\n  const throttledMobile = throttle(50); // This is used to throttle jumps in video in Mobile\n  const throttledWindowCheck = throttle(500); // For testing purposes, e.g. console.logging\n\n  if (isFirefox || isDeviceMobile()) {\n    isFirefox\n      ? throttledFirefox(() => jumpInVideo(capped))\n      : throttledMobile(() => jumpInVideo(capped));\n  } else {\n    jumpInVideo(capped);\n  }\n  window.requestAnimationFrame(() => scrollPlay(params));\n}\n\nfunction throttle(delay) {\n  var timeoutHandler = null;\n  return function (callback) {\n    if (timeoutHandler == null) {\n      timeoutHandler = setTimeout(function () {\n        callback();\n        timeoutHandler = null;\n      }, delay);\n    }\n  };\n}\n\nfunction checkHeight(elementYOffset, frameNumber, playbackConst) {\n  let scrollLine = window.pageYOffset;\n  let howMuchScrolled = scrollLine - elementYOffset === 0 ? 1 : scrollLine - elementYOffset;\n  const frame = howMuchScrolled / playbackConst;\n  return frame;\n}\n\nfunction ScrollingSpeedLimiter() {\n  let previousFrameNumber;\n\n  const differenceTwoNumbers = function (a, b) {\n    return Math.abs(a - b);\n  };\n\n  return {\n    set: (frameNumber, vidDuration) => {\n      previousFrameNumber = previousFrameNumber > 0 ? previousFrameNumber : 0;\n\n      const diff = differenceTwoNumbers(frameNumber, previousFrameNumber);\n\n      const acceptedDiff = 0.04;\n\n      if (diff > acceptedDiff) {\n        if (frameNumber > previousFrameNumber) {\n          frameNumber = previousFrameNumber + acceptedDiff;\n        } else {\n          frameNumber = previousFrameNumber - acceptedDiff;\n        }\n      }\n\n      if (frameNumber > vidDuration - 0.1) frameNumber = vidDuration - 0.1;\n      if (frameNumber < 0) frameNumber = 0;\n\n      previousFrameNumber = frameNumber;\n\n      return frameNumber;\n    },\n    reset: (time) => {\n      previousFrameNumber = time;\n    },\n  };\n}\n\nexport default ScrollingVideo;\n","\nimport styled from 'styled-components';\n\nexport const HeightSetter = styled.div`\n  height: ${props => props.height}px;\n  z-index: 99999;\n`;\n\nexport const VideoElement = styled.video`\n/*position: sticky;\n  top: 0;\n  left: 0;*/\n  width: 100%;\n`;\n\nexport const StickyHolder = styled.div`\nposition: sticky;\n  top: 0;\n  left: 0;\n`\n","import React from 'react'; \nimport \"./darkSoulShareButtons.css\"\n\n\nfunction Twitter(props) {\n    const {fill} = props;\n    return (\n        <svg width=\"45\" height=\"45\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M33.75 17.1611C33.75 26.1357 26.4745 33.4111 17.5 33.4111C8.52545 33.4111 1.25 26.1357 1.25 17.1611C1.25 8.18659 8.52545 0.911133 17.5 0.911133C26.4745 0.911133 33.75 8.18659 33.75 17.1611Z\" stroke={fill} strokeWidth=\"1.5\"/>\n            <path d=\"M24.2959 12.2168C25.0861 11.7428 25.6206 11.073 25.8987 10.2074C25.1765 10.6364 24.4047 10.9295 23.5847 11.088C22.8625 10.3202 21.9744 9.93604 20.9204 9.93604C19.912 9.93604 19.0525 10.2917 18.3412 11.003C17.6299 11.7142 17.2743 12.5744 17.2743 13.5829C17.2743 13.8535 17.3042 14.1323 17.3647 14.4179C15.8741 14.3431 14.476 13.9684 13.1704 13.2946C11.8648 12.6214 10.7564 11.7238 9.84593 10.6024C9.51477 11.1668 9.34953 11.7802 9.34953 12.4425C9.34953 13.0674 9.49573 13.6468 9.78949 14.1813C10.0832 14.7158 10.4783 15.1482 10.9747 15.4794C10.3879 15.457 9.83845 15.3026 9.32641 15.0163V15.0619C9.32641 15.9425 9.60317 16.7156 10.1567 17.3814C10.7095 18.0478 11.4072 18.4673 12.2504 18.64C11.9342 18.723 11.6146 18.7645 11.2909 18.7645C11.0801 18.7645 10.851 18.7454 10.6021 18.708C10.8353 19.4384 11.2644 20.0381 11.8893 20.5087C12.5136 20.9792 13.2214 21.222 14.0116 21.237C12.687 22.2753 11.178 22.7948 9.48485 22.7948C9.16117 22.7948 8.86741 22.7799 8.60425 22.7493C10.2974 23.8407 12.164 24.386 14.2034 24.386C15.4981 24.386 16.7132 24.1814 17.8502 23.7713C18.9865 23.3613 19.9569 22.8118 20.7626 22.123C21.5678 21.4342 22.2621 20.642 22.8455 19.7464C23.4283 18.8508 23.8628 17.9158 24.149 16.9414C24.4353 15.967 24.5781 14.9905 24.5781 14.012C24.5781 13.8012 24.574 13.6434 24.5666 13.5373C25.2819 13.0185 25.8912 12.3902 26.3958 11.6524C25.6961 11.9536 24.9957 12.1413 24.2959 12.2168Z\" fill={fill}/>\n        </svg>\n    )\n}\n\nfunction Facebook(props) {\n    const {fill} = props;\n\n    return (\n        <svg width=\"45\" height=\"45\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M33.75 17.1611C33.75 26.1309 26.4698 33.4111 17.5 33.4111C8.53021 33.4111 1.25 26.1309 1.25 17.1611C1.25 8.19135 8.53021 0.911133 17.5 0.911133C26.4698 0.911133 33.75 8.19135 33.75 17.1611Z\" stroke={fill} strokeWidth=\"1.5\"/>\n            <path d=\"M19.8119 7.77734C18.5199 7.77734 17.4999 8.18534 16.6839 8.93334C15.8679 9.68134 15.5279 10.7693 15.5279 12.1973V14.6453H12.6719V17.9773H15.5279V26.5453H18.9959V17.9773H21.8519L22.2599 14.6453H18.9279V12.5373C18.9279 11.9933 19.0639 11.5853 19.2679 11.3133C19.4719 11.0413 19.9479 10.9053 20.5599 10.9053H22.3279V7.91334C21.7839 7.84534 20.8999 7.77734 19.8119 7.77734Z\" fill={fill}/>\n        </svg>\n    )\n}\n\nfunction Whatsapp(props) {\n    const {fill} = props;\n    return (\n        <svg width=\"45\" height=\"45\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12.6124 26.2815L12.3572 26.1441L12.076 26.2139L7.26424 27.4087L8.55242 22.8109L8.63654 22.5107L8.48302 22.2393C7.61042 20.6967 7.15063 18.9416 7.15063 17.161C7.15063 11.4572 11.7963 6.81152 17.5001 6.81152C23.2039 6.81152 27.8495 11.4572 27.8495 17.161C27.8495 22.8648 23.2039 27.5104 17.5001 27.5104C15.7941 27.5104 14.1095 27.0879 12.6124 26.2815Z\" stroke={fill} strokeWidth=\"1.5\"/>\n            <path d=\"M23.0854 21.0769C22.8456 21.734 21.7091 22.3334 21.1585 22.4133C20.6702 22.4888 20.0486 22.5199 19.3649 22.3023C18.952 22.1736 18.4192 22.0004 17.7399 21.7118C14.8807 20.4909 13.016 17.6494 12.8739 17.463C12.7318 17.2765 11.7107 15.9357 11.7107 14.5505C11.7107 13.1697 12.4432 12.486 12.7052 12.2063C12.9671 11.9221 13.2779 11.8511 13.4688 11.8511C13.6553 11.8511 13.8462 11.8555 14.0149 11.8644C14.1881 11.8733 14.4234 11.7978 14.6543 12.3439C14.894 12.9077 15.4623 14.293 15.5333 14.435C15.6044 14.5771 15.6488 14.7414 15.5555 14.9278C15.4623 15.1143 15.4135 15.2342 15.2714 15.3985C15.1293 15.5627 14.9739 15.767 14.8452 15.8913C14.7031 16.0334 14.5521 16.1843 14.7208 16.464C14.8851 16.7482 15.4579 17.6672 16.3059 18.4131C17.3936 19.3721 18.3126 19.6695 18.5968 19.8116C18.8809 19.9537 19.0452 19.927 19.2139 19.7406C19.3782 19.5541 19.9243 18.9192 20.1152 18.6395C20.3061 18.3554 20.4926 18.4042 20.7545 18.4974C21.0164 18.5907 22.4194 19.27 22.7036 19.412C22.9877 19.5541 23.1786 19.6251 23.2497 19.7406C23.3207 19.856 23.3207 20.4199 23.0854 21.0769Z\" fill={fill}/>\n            <path d=\"M33.75 17.1611C33.75 26.1309 26.4698 33.4111 17.5 33.4111C8.53021 33.4111 1.25 26.1309 1.25 17.1611C1.25 8.19135 8.53021 0.911133 17.5 0.911133C26.4698 0.911133 33.75 8.19135 33.75 17.1611Z\" stroke={fill} strokeWidth=\"1.5\"/>\n        </svg>\n\n    )\n}\n\n export const DarkSoulShareButtons = (props) => {\n    const {iconColor} = props;\n\n    //make dynamic!\n    let url = typeof window !== \"undefined\" ? \"https://yle.fi\" : \"https://yle.fi\";\n\n    return (\n            <div className={`social-container ${props.centered ? \"centered\" : \"\"}`}>\n                <a href={\"https://www.facebook.com/sharer/sharer.php?u=\" + encodeURIComponent(url)} target=\"_blank\"><Facebook fill={iconColor} /></a>\n                <a href={\"https://twitter.com/intent/tweet?original_referer=\" + encodeURIComponent(url) + \"&ref_src=twsrc%5Etfw&text=\" + encodeURIComponent(\"\") + \"&tw_p=tweetbutton&url=\" + encodeURIComponent(url)} target=\"_blank\"><Twitter fill={iconColor} /></a>\n                <a href={\"whatsapp://send?text=\" + encodeURIComponent(\"\") + encodeURIComponent(url) + \"&display=popup&ref=plugin&src=like&kid_directed_site=0\"} target=\"_blank\"><Whatsapp fill={iconColor} /></a>\n            </div>\n        \n    )\n} ","import React from 'react';\nimport * as s from './AuthorBox.styled';\nimport Markdown from 'markdown-to-jsx';\n\nexport default function AuthorBox(props){\n\n    const  { title, authorText } = props;\n    const cleanAuthorText = authorText;\n\n    let colors ={};\n    if(typeof window === \"undefined\"){\n        colors.plusFeature = {\n            dark: { bg: \"black\", color: \"white\", color2: \"white\" },\n            light: { bg: \"black\", color: \"white\", color2: \"white\" },\n        }\n    } else {\n        colors.plusFeature = window.plusFeature\n    }\n\n    return (\n        <s.AuthorBoxContainer\n            color={colors.plusFeature.light.color}\n            colorDark={colors.plusFeature.dark.color}\n        >\n            <s.Title>{title}</s.Title>\n            <s.AuthorText>\n                <Markdown>{cleanAuthorText}</Markdown>\n            </s.AuthorText>\n        </s.AuthorBoxContainer>\n    )\n}","import styled from 'styled-components';\n\nexport const AuthorBoxContainer = styled.div`\n    max-width: 650px;\n    padding: 24px 15px;\n    margin: auto;\n    color: ${props => props.color};\n\n    @media (prefers-color-scheme: dark) {\n        color: ${props => props.colorDark};\n    }\n`;\n\nexport const Title = styled.h4`\n    font-family: \"Yle Black\", \"Open Sans\", sans-serif;\n    font-weight: 700;\n    font-size: 20px;\n    line-height: 28px;\n    margin: 0px 0px 16px;\n\n`;\n\nexport const AuthorText = styled.p`\n    font-family: \"Open Sans\", sans-serif;\n    font-size: 14px;\n    line-height: 21px;\n\n`;","import React from 'react';\nimport * as s from './darkSoulSubheader.styled';\n\nfunction DarkSoulSubheader(props) {\n  const { number, header } = props;\n  return (\n    <s.Container>\n      <s.Number>{number}</s.Number>\n      <s.Header>{header}</s.Header>\n      <s.Symbol>\n        <img src={\"https://lusi-dataviz.ylestatic.fi/2020-11-featurepohja/fynd/dcvaliotsikkosymboli.png\"} />\n      </s.Symbol>\n    </s.Container>\n  );\n}\n\nexport default DarkSoulSubheader;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  font-size: 30px;\n  text-align: center;\n  text-transform: uppercase;\n  position: relative;\n  top: 0;\n`;\n\nexport const Number = styled.p`\n  margin-top: 250px;\n  letter-spacing: 2;\n`;\n\nexport const Header = styled.p`\n  letter-spacing: 9;\n  font-weight: bold;\n  margin-top: -10px; \n`;\n\nexport const Symbol = styled.div`\n  margin-top: -10px;\n  margin-bottom: 20px;\n  display: inline-block;\n  margin-left: -5px;\n\n  & img {\n    width: 100px;\n    height: auto;\n  }\n`;\n","import fetchIMSimage from \"./fetchIMSimage\";\n\nexport async function formatFetchedData  (d) {\n  const type = d.type.replace(\" \", \"\");\n  const value = d.value;\n  const id = d.id.replace(\" \", \"\");\n  //mediaFormat: \"image\" / mediaFormat: \"video\" / mediaFormat: \"imsImage\" / ignore if type includes kone\n  const mediaFormat = imageOrVideo(d.id, d.type.includes(\"kone\") || d.type.includes(\"palautelomake\"));\n\n  //reformat style string (for example kuvasuhde:16:9&2:3;) to object \n  let style = {};\n  Object.keys(d).includes(\"style\") ? style = styleObject(d.style) : null;\n\n  //fetch imsdata if it's imsImage\n  let imsData = mediaFormat == \"imsImage\" ? await fetchIMSimage(id) : null;\n\n  const aspectRatio = Object.keys(style).includes(\"kuvasuhde\") ? style.kuvasuhde : null;\n\n  const altText = Object.keys(style).includes(\"alt\") ? style.alt[0] : imsData == null ? null : imsData.alt; \n  //save desktop and mobile images as array [urlDesktop, urlMobile]\n  let urls = desktopAndMobileUrl(mediaFormat, aspectRatio, id, imsData)\n\n  let dataObj = {type, value, id, mediaFormat, style, imsData, urls, altText}\n  return dataObj\n}\n\nexport function filterData(data,key,searchTerms,nestData){\n    let filteredData = [];\n    //map throught data\n    data.map(d => {\n      //if searchTerms are array, map through given possible values\n      if(typeof searchTerms == \"object\") {\n        searchTerms.map(searchTerm => {\n          //push if value in list\n          d[key].includes(searchTerm) && filteredData.push(d)\n        })\n      //if searchTerms is text\n      } else {\n        d[key].includes(searchTerms) && filteredData.push(d)\n      }\n    })\n\n    //nest array into smaller arrays \n    //[[scrolly1data], [scrolly2data]] \n    if(nestData){\n      const nestedData = [];\n      \n      filteredData.map(d => {\n        //scrolly1 f. ex.\n        const elementNumber = d.type.match(/\\d+/)[0]\n        //scrolly1 = array[0] in nestedData\n        const arrNumber = elementNumber - 1;\n        //if array not yet in data then make empty array\n        nestedData[arrNumber] = nestedData[arrNumber] == undefined ? [] : nestedData[arrNumber];\n        //push karuselli data to nested array\n        nestedData[arrNumber].push(d)\n        \n      })\n      filteredData = nestedData;\n    }\n\n    return filteredData;\n}\n\nexport function styleObject(styleString){\n    //styles are separeted with ;\n    const styleArray = styleString.split(\";\")\n    const styleObject = {};\n\n    //console.log(styleArray)\n    styleArray.map(styleString => {\n      //style name is separated with :\n      //for example \"Kuvasuhde:16:9&2:3\"\n      const styleKey = styleString.split(\":\")[0];\n      let styleValue = styleString.split(\":\").slice(1).join(\":\");\n      styleValue = styleValue.split(\"&\");\n      styleKey.length > 0 ? styleObject[styleKey] = styleValue : null;\n\n    })\n\n    return styleObject\n}\n\nexport function imageOrVideo(id,ignore){\n  \n  if (id.length == 0) {\n    //if no id then return null\n    return null;\n  } else if (ignore) {\n    return null;\n  }\n\n  const type = id.startsWith(\"http\") ? \"web\" : \"ims\";\n  if(type == \"ims\") {\n    return \"imsImage\";\n  } else {\n    const mediaFormat = id.endsWith(\"mp4\") ? \"webVideo\" : \"webImage\"\n    return mediaFormat;\n  }\n}\n\nexport function desktopAndMobileUrl(mediaFormat, aspectRatio, id, imsData) {\n  //console.log(mediaFormat, aspectRatio, imsData)\n  if(mediaFormat == \"imsImage\") {\n    //console.log(imsData[\"16:9\"])\n    const urlsArray = aspectRatio !== null && imsData !== undefined ? [imsData[aspectRatio[0]], imsData[aspectRatio[1]]] : aspectRatio == null && imsData !== undefined ? [imsData[\"16:9\"], imsData[\"16:9\"]] : [id, id]\n    return urlsArray;\n  } else if (mediaFormat == \"webImage\") {\n    const urlsArray = aspectRatio !== null ? [aspectRatio[0], aspectRatio[1]] : [id, id]\n    return urlsArray\n  } else if (mediaFormat == \"webVideo\") {\n    const urlsArray = aspectRatio !== null ? [aspectRatio[0] + \"#t=0.1\", aspectRatio[1] + \"#t=0.1\"] : [id  + \"#t=0.1\", id  + \"#t=0.1\"]\n    return urlsArray\n  }\n}","import {pushErrorTextToDOM} from './errorFunctions';\n\n/////////////////\n//MAIN FUNCTION//\n/////////////////\n\nasync function fetchIMSimage(IMSid, bgColor){\n    const app_id = process.env.app_id_prod;\n    const app_key = process.env.app_key_prod;\n\n    const imageInformation = await getImageInformation(IMSid, app_id, app_key);\n    //console.log(imageInformation)\n    if(Object.keys(imageInformation).includes(\"data\")) {\n        const formattedData = await formatImageInformation(imageInformation, bgColor);\n        return formattedData;\n    } else {\n        pushErrorTextToDOM(\"#ERR - Ei kelvollinen IMS-id:\" + IMSid)\n    }\n    \n    \n}\n\n\n//Contains crop and other information for image\nasync function getImageInformation(IMSid, app_id, app_key){\n    //Example url https://json-storage.api.yle.fi/v1/collection/ims-images-v1/document/36-39-6740315eba7a57d2e87?app_id=HIEKKALAATIKKO&app_key=HIEKKALAATIKKO\n    //console.log(app_id)\n    const url = `https://json-storage.api.yle.fi/v1/collection/ims-images-v1/document/36-${IMSid}?app_id=${app_id}&app_key=${app_key}`\n    //console.log(url)\n    try {\n        let response = await fetch(url);\n        let data = await response.json();\n        //console.log(data)\n        return data;\n    } catch(e){\n        console.log(\"dataError\", e)\n        return ;  \n    }\n}\n\n//return crop and alt text from data\nasync function formatImageInformation(data, bgColor){\n\n    //console.log(data.data)\n    let altTag = Object.keys(data.data).includes(\"alt\") && data.data.alt.filter(d => d.language == \"fin\")\n    let imageInformation = {type: \"img\", bgColor: bgColor, alt: altTag.length > 0 ? altTag[0].value : null};\n    \n    const aspectRatios = [\"16:9\",\"2:3\",\"1:1\",\"5:2\"];\n\n    aspectRatios.map(async ratio => imageInformation[ratio] = await imsUrl(data, ratio))\n    imageInformation[\"o\"] = `https://images.cdn.yle.fi/image/upload/f_auto,q_auto,h_1080/v1614062693/${data.data.publicId}.jpg`\n\n    return imageInformation;\n\n}\n\n//Get ims url for image\nasync function imsUrl(data, ratio){\n\n\n    //console.log(data.data)\n    //Cropping\n    const cropInfo = data.data.crops.filter(d => d.name == ratio)\n\n    if(cropInfo.length > 0) {\n\n        const xPos = cropInfo[0].coordinates.x;\n        const yPos = cropInfo[0].coordinates.y;\n        const width = cropInfo[0].coordinates.width;\n        const height = cropInfo[0].coordinates.height;\n\n        //Scale image to fullHD\n        const scaleWidth = 1920/width;\n        const scaleHeight = 1080/height;\n        const scale = scaleHeight < scaleWidth ? scaleHeight : scaleWidth;\n\n        const outputWidth = Math.round(width*scale);\n        const outputHeight = Math.round(height*scale);\n\n        //ID\n        const imageID = data.data.publicId;\n\n        const url = `https://images.cdn.yle.fi/image/upload/w_${width},h_${height},x_${xPos},y_${yPos},f_auto,fl_lossy,q_auto:best,c_crop/w_${outputWidth},h_${outputHeight},dpr_1/${imageID}.jpg`\n        return url;\n\n    }\n}\n\nexport default fetchIMSimage;","import React from \"react\";\nconst Context = React.createContext({});\nexport default Context;","import React, { useRef, useEffect, useCallback, useState, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport PictureTag from '../VisualComponents/Picture/PictureTag';\nimport VideoTag from '../VisualComponents/Video/VideoTag';\n\n\nimport {\n    isElementInOrAboveViewport, \n    firstTextBoxViewportFunction, \n    lastTextBoxViewportFunction, \n    onlyOneTextBoxViewportFunction,\n    isTextBoxAlmostInViewport,\n    viewportSize\n} from '../../lib/viewportFunctions';\nimport {styleHandlerWithDefaults} from '../../lib/styleHandler';\nimport {isUsingApp} from '../../lib/isUsingApp';\nimport {appHeightHack} from '../../lib/appHeightHack';\n\nimport {stopRelativeAutoplayVideosWhileInScrolly} from '../VisualComponents/Video/videoScrollFunctions';\n\n\nimport Markdown from 'markdown-to-jsx';\n\nimport * as s from './Scrolly.styled';\n\nfunction iOSSafari(userAgent) {\n    return /iP(ad|od|hone)/i.test(userAgent) &&\n      /WebKit/i.test(userAgent) &&\n      !(/(CriOS|FxiOS|OPiOS|mercury)/i.test(userAgent));\n}\n\n\nconst useIsClient = () => {\n    const [isClient, setClient] = useState(false);\n  \n    useEffect(() => {\n      setClient(true)\n    }, []);\n  \n    return isClient;\n  }\n\nfunction changeScrollyHeight() {\n    const ref = useRef(null)\n    const setRef = useCallback(node => {\n      if (ref.current) {\n        // Make sure to cleanup any events/references added to the last instance\n      }\n      \n      if (node) {\n        // Check if a node is actually passed. Otherwise node would be null.\n        // You can now do what you need to, addEventListeners, measure, etc.\n        //change scrolly height based on text container height\n        if (typeof window !== \"undefined\" && window.navigator.userAgent.indexOf(\"Edg\") > -1) {\n            node.parentNode.style.height = \"calc(\"+(250+7)+\"vh + \" + node.offsetHeight +\"px)\"\n        //Firefox on ios -- not necessary\n        } /*else if (window.navigator.userAgent.includes(\"FxiOS\")) {\n            const height = window.innerHeight\n            node.parentNode.style.height = \"calc(\"+(height*3.06)+\"px + \" + node.offsetHeight +\"px)\"\n        }*/ else {\n            node.parentNode.style.height = \"calc(\"+(200+6)+\"vh + \" + node.offsetHeight +\"px)\"\n        }\n\n        \n      }\n      \n      // Save a reference to the node\n      ref.current = node\n    }, [])\n    \n    return [setRef]\n}\n\nfunction isTextboxInViewport(refArray){\n    //contains all individual text boxes on scrolly\n    const [elementInViewport, setVisibility] = useState({mediaOpacity: [], canPlay: []});\n\n    const arrayLength = refArray.current.length\n\n    useEffect(() => {\n        //flips image opacity based on if text is in viewport\n        const inViewport = () => {\n            //let minDistance = Infinity;\n\n            let data = {mediaOpacity: new Array(arrayLength), canPlay: new Array(arrayLength)}\n            refArray.current.map((singleContainer,index) => {\n\n                const lastEl = index == arrayLength - 1;\n                data.mediaOpacity[index] = isElementInOrAboveViewport(singleContainer)\n\n                //multiple text box scrolls\n                if(arrayLength > 1) {\n                    data.canPlay[index] = index == 0 ? firstTextBoxViewportFunction(singleContainer) : lastEl ? lastTextBoxViewportFunction(singleContainer) : isTextBoxAlmostInViewport(singleContainer);\n                //if only one text box - apply special rules\n                } else {\n                    data.canPlay[index] = onlyOneTextBoxViewportFunction(singleContainer)\n                }\n                \n            })\n\n            //only update if new data is different from current state\n            JSON.stringify(elementInViewport) !== JSON.stringify(data) && setVisibility({...data})\n        };\n        inViewport()\n        //back up if delete body and #app stylings in basics.css\n        typeof window !== \"undefined\" && window.addEventListener(\"scroll\", inViewport, { passive: true });\n        return () => typeof window !== \"undefined\" && window.removeEventListener(\"scroll\", inViewport);\n    }, [elementInViewport]);\n    \n    return elementInViewport;\n}\n\nfunction allowVideoPlay(scrollyData, index, scrollyEl, elementInViewport) {\n    //list of textboxes \n    const playVideoOnTheseTextBoxes = [index]\n                    \n    //While loop goes through scrolly medias and returns list of indexes with empty id's\n    //Purpose: video won't stop even though original scrollyText is not on screen\n    let i = index;\n    do {\n        if(scrollyEl.mediaFormat == \"webVideo\" && scrollyData[i] !== undefined && scrollyData[i].id == \"\") {\n            playVideoOnTheseTextBoxes.push(i)\n        }\n        i++;\n    }\n    while (scrollyData[i] !== undefined && scrollyData[i].id == \"\")\n\n    //Allow play if showing original text box linked to video or any following text boxes with no linked video\n    const allowPlay = playVideoOnTheseTextBoxes.map(textBoxIndex => elementInViewport.canPlay[textBoxIndex]).includes(true)\n\n    return allowPlay\n}\n\nfunction resizeWindow(){\n    //contains all individual text boxes on scrolly\n    const [height, setHeight] = useState(viewportSize(\"height\") + 2);\n\n    useEffect(() => {\n        //flips image opacity based on if text is in viewport\n        const resized = () => {\n            //+2 makes sure that there are no white borders\n            const newHeight = viewportSize(\"height\") + 2;\n            newHeight !== height && setHeight(newHeight)\n            //newHeight !== height && appHeightHack();\n        };\n        resized();\n        typeof window !== \"undefined\" && window.addEventListener(\"resize\", resized, { passive: true });\n        return () => typeof window !== \"undefined\" &&  window.removeEventListener(\"resize\", resized);\n    }, [height]);\n    \n    return height;\n}\n\n\nfunction Scrolly(props){\n    const {\n        scrollyData, \n        scrollyIndex,\n        soundOn,\n        setSound\n    } = props;\n\n    const [textsContainer] = changeScrollyHeight()\n\n    const height = resizeWindow();\n    \n    //includes all SingleTextContainers\n    const singleTextContainerArray = useRef([]);\n    //boolean array [true, false, false]\n    const elementInViewport = isTextboxInViewport(singleTextContainerArray)\n\n    //If in scrolly then stop relative videos\n    elementInViewport.canPlay.includes(true) && stopRelativeAutoplayVideosWhileInScrolly(\".plusVideoRelative\");\n\n    //audio icon placement - app has not fixed menu top\n    const usingApp = isUsingApp();\n    const isClient = useIsClient();\n    return(\n        <>\n            {/* widthProperty can be used for scrolly element in Esko feature and Esko basic news template */}\n            <s.ScrollyContainer \n                widthProperty={Object.keys(scrollyData[0].style).includes(\"leveys\") ? scrollyData[0].style.leveys : \"100%\"}\n                >\n                <s.StickyImageContainer\n                    usingApp={usingApp}\n                    //only safari on ios uses this value\n                    safariOnIOS={isClient && iOSSafari(window.navigator.userAgent)}\n                    height={isClient || height == undefined ? height : \"0\"}\n                >\n                {scrollyData.map((scrollyEl,index) => {\n\n                    //Allow play if showing original text box linked to video or any following text boxes with no linked video\n                    const allowPlay = allowVideoPlay(scrollyData, index, scrollyEl, elementInViewport)\n                \n                    return(\n                        scrollyEl.mediaFormat == \"webVideo\"\n                        ?\n                        <VideoTag \n                            mobileMediaData={scrollyEl.urls[1]}\n                            desktopMediaData={scrollyEl.urls[0]}\n                            positionAbsolute={true}\n                            id={scrollyEl.id}\n                            mediaStyling={scrollyEl.style}\n                            //audio icon position lower in scrolly - reason yle.fi fixed menu top\n                            audioIconPosition={!usingApp ? \"15px\" : \"0px\"}\n                            //always show first image of scrolly\n                            //show image correspondent to textbox\n                            showScrollyMedia={index == 0 ? true : elementInViewport.mediaOpacity[index]}\n                            scrollyTextFullyInScreen={allowPlay}\n                            headerVideo={false}\n                            key={\"scrollyVideoTag-\" + scrollyIndex + \"-\" + index}\n                            soundOn={soundOn}\n                            setSound={setSound}\n                        />\n                        : scrollyEl.mediaFormat == \"imsImage\" ||  scrollyEl.mediaFormat == \"webImage\" ?\n                        <PictureTag \n                            mobileMediaData={scrollyEl.urls[1]}\n                            desktopMediaData={scrollyEl.urls[0]}\n                            positionAbsolute={true}\n                            id={scrollyEl.id}\n                            mediaStyling={scrollyEl.style}\n                            altText={scrollyEl.altText}\n                            //always show first image of scrolly\n                            //show image correspondent to textbox\n                            showScrollyMedia={index == 0 ? true : elementInViewport.mediaOpacity[index]}\n                            //renderMedia={elementInViewport.showElement[index]}\n                            key={\"scrollyPictureTag-\" + scrollyIndex + \"-\" + index}\n                            index={\"scrollyVideoTag-\" + scrollyIndex}\n                        />\n                        :\n                        null\n                    )\n                })\n                }\n                </s.StickyImageContainer>\n                <s.TextsContainer ref={textsContainer}>\n                {scrollyData.map((scrollyEl,index) => {\n                    const styleThisEl = styleHandlerWithDefaults(\"skrolli\", scrollyEl.style)\n                    //console.log(styleThisEl)\n                    return(\n                        <s.SingleTextContainer \n                            marginTop={index == 0 ? 0 : typeof window !== \"undefined\" && window.navigator.userAgent.includes(\"FxiOS\") ? viewportSize(\"height\") + \"px\" : \"100vh\"} \n                            opacity={scrollyEl.value.length > 0 ? 1 : 0}\n                            visibility={scrollyEl.value.length > 0 ? \"visible\" : \"hidden\"}\n                            background={styleThisEl.textContainerBackground}\n                            color={styleThisEl.textColor}\n                            //ref is array, only push if ref is not in array\n                            ref={ref => \n                                singleTextContainerArray.current.length < scrollyData.length \n                                && singleTextContainerArray.current.push(ref) \n                            }\n                            key={\"scrollyTextContainer-\" + scrollyIndex + \"-\" + index}\n                            >\n                            <Markdown>{scrollyEl.value}</Markdown>\n                        </s.SingleTextContainer>\n                    )\n                })\n                }\n                    \n                </s.TextsContainer>\n            </s.ScrollyContainer>\n        </>\n    )\n}\n\nexport default Scrolly;\n\n","import { isUsingApp } from \"./isUsingApp\";\nimport { viewportSize } from \"./viewportFunctions\";\nexport function appHeightHack() {\n\n  function iOSSafariOrChrome(userAgent) {\n    return /iP(ad|od|hone)/i.test(userAgent) &&\n      /WebKit/i.test(userAgent) &&\n      !(/(FxiOS|OPiOS|mercury)/i.test(userAgent));\n    }\n\n  //adjust scrollable #app container height\n  const usingApp = isUsingApp();\n  const usingIosSafariOrChrome = iOSSafariOrChrome(window.navigator.userAgent);\n  document.querySelector(\"#app\").style.height = usingApp ? \"100vh\" : usingIosSafariOrChrome ? \"calc(\" + viewportSize(\"height\") + \"px - 50px)\" : \"calc(100vh - 50px)\";\n}","import styled from 'styled-components';\n\n\nexport const ScrollyContainer = styled.div`\n    width: ${props => props.widthProperty};\n    position: relative;\n    margin-top: 24px;\n    margin-bottom: 24px;\n    transform: translateX(-50%);\n    left: 50%;\n    will-change: height;\n    display: inline-block;\n   \n`;\n\nexport const StickyImageContainer = styled.div`\n    position: sticky;\n    height: ${props => props.usingApp ? props.height + \"px\" : props.safariOnIOS && !props.usingApp ?  \"calc(\" + props.height + \"px - 50px)\" : \"calc(\" + props.height + \"px - 50px)\"};\n    top: ${props => props.usingApp ? \"0px\" : \"50px\"};\n    display: block;\n    overflow: hidden;\n   \n`;\n\n/*\nexport const ScrollyContainer = styled.div`\n    width: ${props => props.widthProperty};\n    position: relative;\n    margin-top: 24px;\n    margin-bottom: 24px;\n    left: 0;\n    will-change: scroll-position;\n    transition: height 1000000s ease;\n    -webkit-transform: translateZ(0);\n    -webkit-backface-visibility: hidden;\n`;\n*/\n\n\n/*\nexport const StickyImageContainer = styled.div`\n    \n    position: sticky;\n    left: 0;\n    min-height: calc(103vh);\n    top: ${props => props.top}px;\n    display: block;\n    backface-visibility: hidden;\n    -webkit-transform: translateZ(0);\n    -webkit-backface-visibility: hidden;\n\n`;\n*/\n\nexport const TextsContainer = styled.div`\n    \n`;\n\nexport const SingleTextContainer = styled.div`\n    position: relative;\n    text-align: center;\n    background-color: ${props => props.background};\n    color:  ${props => props.color};\n    width: 30%;\n    margin: ${props => props.marginTop} auto auto;\n    padding: 15px;\n    width: 80vw;\n    max-width: 500px;\n    line-height: 1.5em;\n    font-size: 17px;\n    box-shadow: 1px 2px 4px rgba(0,0,0,.3);\n    z-index: 2;\n    -webkit-transform: translateZ(0);\n    opacity: ${props => props.opacity};\n    visiblity: ${props => props.visiblity};\n\n    & h4 {\n        margin-bottom: 10px;\n    }\n\n`;","import React from \"react\";\nimport \"./darkSoulNewChapter.css\";\n\nexport const DarkSoulNewChapter = ({ children }) => (\n  <p data-paragraph-id=\"aloitus\" className=\"yle__article__paragraph fynd\">\n    {children}\n  </p>\n);\n","import React from \"react\";\n\nexport const DarksoulSourceList = ({ children }) => (\n  <div id=\"sources\">\n    {children.map((e, i) =>\n      e.props && e.props.mdxType && e.props.mdxType === \"p\"\n        ? React.cloneElement(e, { className: \"yle__article__paragraph fynd\",key: i })\n        : null\n    )}\n  </div>\n);\n"],"names":["$147b1a3f7dc719c6$var$fs","$147b1a3f7dc719c6$var$_interopRequireWildcard","$7W9VJ$fs","$147b1a3f7dc719c6$var$_react","$7W9VJ$react","$147b1a3f7dc719c6$var$_server","$7W9VJ$babelruntimehelpersinteropRequireDefault","$7W9VJ$reactdomserver","module","JSON","parse","$147b1a3f7dc719c6$var$_package","parcelRequire","$6de93a393d9683c7$var$_react","$6de93a393d9683c7$var$_interopRequireWildcard","frontMatter","otsikko","ingressi","artikkelitausta","otsikonSisalto","makeShortcode","name","props","console","warn","$7W9VJ$mdxjsreact","mdx","Header","ScrollingVideo","DarkSoulHeroText","DarkSoulShareButtons","AuthorBox","DarkSoulSubheader","AloitusKappale","Kuva","Skrolli","LahdeLuettelo","layoutProps","MDXContent","_ref","components","$d454c6d476100118$var$_objectWithoutProperties2","default","$d454c6d476100118$var$_excluded","$d454c6d476100118$var$_extends2","mdxType","$d454c6d476100118$var$Header","$d454c6d476100118$var$ScrollingVideo","isHeader","url","$d454c6d476100118$var$DarkSoulHeroText","text","isMobile","$d454c6d476100118$var$DarkSoulShareButtons","centered","iconColor","$d454c6d476100118$var$AuthorBox","title","authorText","$d454c6d476100118$var$DarkSoulSubheader","disableScroll","header","number","$d454c6d476100118$var$AloitusKappale","type","value","$d454c6d476100118$var$Kuva","id","kuvateksti","style","$d454c6d476100118$var$Skrolli","tyylit","$d454c6d476100118$var$LahdeLuettelo","parentName","isMDXComponent","$6de93a393d9683c7$var$_darksoul","$2c18c45c2c97b47f$var$_react","test","createElement","$f28d02d1e7198c9e$var$_react","$f28d02d1e7198c9e$var$_interopRequireWildcard","$f28d02d1e7198c9e$var$_markdownToJsx","$7W9VJ$proptypes","$7W9VJ$markdowntojsx","$f28d02d1e7198c9e$var$s","$f28d02d1e7198c9e$var$ss","$f28d02d1e7198c9e$var$_HeaderVisuals","$f28d02d1e7198c9e$var$_ShareButtons","$f28d02d1e7198c9e$var$_ProgressBar","data","articlePublishedText","eskoHeadline","eskoLead","tag","tagLink","uutisetOrUrheilu","soundOn","setSound","filter","d","undefined","$70Yk3","pushErrorTextToDOM","otsikkoValue","mediaStyling","styleOtsikko","$fvaiJ","styleHandlerWithDefaults","articleContent","document","querySelector","backgroundColor","overrideColors","query","color","querySelectorAll","forEach","el","window","newBg","darkmode","plusFeature","dark","bg","color2","light","appContainer","headerVisualsProps","headerChildren","children","urls","$f28d02d1e7198c9e$var$_objectSpread","emptyHeader","mediaFormat","desktopMediaData","mobileMediaData","altText","alttext","search","replace","progressBar","Object","keys","includes","etenemispalkki","colors","HeaderContainer","StyledContentContainer","LeadContainer","backgroundColorDark","TagLink","href","Tag","colorDark","HeaderTitle","fontSizing","fontSize","split","join","HeaderLead","length","PublishedTextContainer","$14c56d2e6ceac2bc$var$_styledComponents","$7W9VJ$styledcomponents","styled","div","withConfig","displayName","componentId","h1","maxWidth","orientation","h5","a","h4","screenWidth","$7dvNu","viewportSize","dimension","canUseVisualViewport","visualViewport","height","innerHeight","width","innerWidth","rect","getBoundingClientRect","left","bottom","documentElement","clientHeight","right","clientWidth","top","Math","abs","screenWidthBuffer","nearEnough","buffer","windowHeight","elHeight","$5821f8cbdc784385$var$_styledComponents","Errors","ErrorContainer","SplashFull","LoadingContent","SplashText","$7c105f55edf0a1a4$var$_react","$7c105f55edf0a1a4$var$_interopRequireWildcard","$7c105f55edf0a1a4$var$_propTypes","$7c105f55edf0a1a4$var$s","$7c105f55edf0a1a4$var$_PictureTag","$7c105f55edf0a1a4$var$_VideoTag","$7c105f55edf0a1a4$var$_SwipingFinger","HeaderVisuals","emptyContainer","useRef","newHeaderSelector","sisältö","useEffect","current","newHeaderElement","appendChild","pushContentToHeader","showIcon","ikoni","Fragment","VisualEmptyContainer","ref","React","cloneElement","VisualContainer","positionAbsolute","headerPicture","audioIconPosition","headerVideo","propTypes","PropTypes","string","object","bool","$2839baf1f35f3083$var$_styledComponents","$a6ec796f341d3fe2$var$_react","$a6ec796f341d3fe2$var$_interopRequireWildcard","$a6ec796f341d3fe2$var$_propTypes","$a6ec796f341d3fe2$var$s","$a6ec796f341d3fe2$var$ss","$a6ec796f341d3fe2$var$_markdownToJsx","returnPictureWidth","pictureWidth","setPictureWidth","calcPictureWidth","newPicWidth","setTimeout","timeoutId","resizeListener","clearTimeout","addEventListener","passive","removeEventListener","PictureTag","mediaText","showScrollyMedia","pictureTag","pictureTagRelative","_useState","useState","_useState2","$a6ec796f341d3fe2$var$_slicedToArray2","usingApp","$1SUaI","isUsingApp","styleThisEl","$dFGgd","animateImage","MediaContainerAbsolute","as","onError","imageBackground","MobileSource","srcSet","media","DesktopImgAbs","src","objectPosition","horizontalObjectPosition","objectFit","maxHeight","alt","mediaCredits","MediaCredits","textColor","mediaCreditsColor","textBackground","mediaCreditsBackground","MediaContainerRelative","contentInFeature","feature","DesktopImgRel","onLoad","Text","elWidth","emptyElement","$6b32631a49560251$var$_styledComponents","source","img","$05f0ea2e64b7db47$var$_styledComponents","$05f0ea2e64b7db47$var$_interopRequireWildcard","p","currentUrl","location","keySniffer","styleObj","itemName","fallback","contentType","styles","closeToViewport","$9f3fe2be9e890380$var$_asyncToGenerator2","$9f3fe2be9e890380$var$_regenerator","mark","_callee","wrap","_context","prev","next","isElementVisibleInViewport","classList","contains","add","stop","apply","this","arguments","getElementById","errorText","plusFeatureErrors","push","innerHTML","map","eText","display","$097a0e89017053c2$var$_react","$097a0e89017053c2$var$_interopRequireWildcard","$097a0e89017053c2$var$_propTypes","$097a0e89017053c2$var$s","$097a0e89017053c2$var$ss","$097a0e89017053c2$var$_VideoAudio","$097a0e89017053c2$var$_VideoPlay","$097a0e89017053c2$var$_markdownToJsx","returnVideoSpecs","videoSpecs","setVideoSpecs","calcVideoSpecs","newVideoWidth","newVideoPadding","newVideoHeight","videoChildren","$097a0e89017053c2$var$_toConsumableArray2","containerLeft","vid","videoRect","calcVideoPadding","videoHeight","useLayoutEffect","VideoTag","scrollyTextFullyInScreen","videoRef","mobile","$7Yn2W","isDeviceMobile","$gD3Kf","playPauseVideo","controls","$097a0e89017053c2$var$_slicedToArray2","videoProps","preload","autoPlay","muted","playsInline","loop","disableAutoplay","VideoTagAbsoluteDesktop","$097a0e89017053c2$var$_extends2","objectPositionDesktop","poster","VideoTagAbsoluteMobile","objectPositionMobile","audio","audioIconPositionRight","relative","playIconPosition","videoContainer","className","VideoTagRelativeDesktop","VideoTagRelativeMobile","$ba2950507c3ce8da$var$_styledComponents","$ba2950507c3ce8da$var$_interopRequireWildcard","video","AudioButton","button","PlayButton","$e2b7e4a1a6b20b1c$var$_react","$e2b7e4a1a6b20b1c$var$_interopRequireWildcard","$e2b7e4a1a6b20b1c$var$s","VideoAudio","audioButtonClick","$e2b7e4a1a6b20b1c$var$_toConsumableArray2","onClick","round","xmlns","viewBox","fill","$01568454f22fc0e0$var$_react","$01568454f22fc0e0$var$_interopRequireWildcard","$01568454f22fc0e0$var$s","VideoPlay","play","$01568454f22fc0e0$var$_toConsumableArray2","videoStyle","getComputedStyle","paused","readyState","load","opacity","pause","$c1b331831ac0c8ba$var$_asyncToGenerator2","$c1b331831ac0c8ba$var$_regenerator","containerStyle","_videoChildren","$c1b331831ac0c8ba$var$_toConsumableArray2","isElementCloseToViewport","Promise","all","videoRelativeCloseToViewport","$50e810201349de0d$var$_react","$50e810201349de0d$var$_interopRequireWildcard","$50e810201349de0d$var$s","SwipingFinger","scrolled","$50e810201349de0d$var$_slicedToArray2","setScrolled","scrollFunction","IconAndText","showGuide","SVGel","InfoText","$3ba59f34a076cbdf$var$_styledComponents","$3ba59f34a076cbdf$var$_interopRequireWildcard","showAnimation","keyframes","hideAnimation","svg","$930782bf56d52ad4$var$_react","$930782bf56d52ad4$var$_slicedToArray2","showMenu","setShowMenu","shareWhatsapp","_changeSomeButtonUrl","changeSomeButtonUrl","encodeURIComponent","whatsappEl","shareTwitter","twitterCopy","_changeSomeButtonUrl3","twitterEl","_changeSomeButtonUrl5","concat","facebookEl","_changeSomeButtonUrl7","linkedInEl","_changeSomeButtonUrl9","emailEl","shareMenu","clickedOutsideMenu","event","target","parentNode","closeMenu","$930782bf56d52ad4$var$s","ShareButtonsContainer","ShareButton","$930782bf56d52ad4$var$ShareIcon","matchMedia","matches","ShareNavi","Ul","role","Li","Link","SVGandText","$930782bf56d52ad4$var$Twitter","SomeText","$930782bf56d52ad4$var$Facebook","$930782bf56d52ad4$var$Whatsapp","$930782bf56d52ad4$var$LinkedIn","$930782bf56d52ad4$var$Email","str","body","select","execCommand","removeChild","$930782bf56d52ad4$var$Copy","$930782bf56d52ad4$var$_interopRequireWildcard","someHref","useCallback","node","ShareIcon","Path","Twitter","Facebook","Whatsapp","LinkedIn","Email","Copy","$c19c4b2379d27e8f$var$_styledComponents","OnlyMobileLink","nav","ul","li","span","path","$21a26a2ba6283c4c$var$_react","$21a26a2ba6283c4c$var$_interopRequireWildcard","$21a26a2ba6283c4c$var$s","ProgressBar","scrollProgress","$21a26a2ba6283c4c$var$_slicedToArray2","setScrollProgress","progressInQuery","commentsEl","commentsHeight","progress","scrollY","mainElement","progressInMain","progressElement","marginTop","Bar","$897a0151a5e89229$var$_interopRequireWildcard","currentProgress","$6de93a393d9683c7$var$_Header2","$4688269c549bf8a5$var$_react","$4688269c549bf8a5$var$s","$4688269c549bf8a5$var$_interopRequireWildcard","FullWidthContainer","Container","Symbol","dangerouslySetInnerHTML","__html","$f5ff484c2e6104c7$var$_styledComponents","$6de93a393d9683c7$var$_darkSoulHeroText","$9b4bd39b933f98a7$var$_react","$9b4bd39b933f98a7$var$_interopRequireWildcard","$9b4bd39b933f98a7$var$s","$9b4bd39b933f98a7$var$_propTypes","isRequired","previousFrameNumber","differenceTwoNumbers","heightSetterRef","$9b4bd39b933f98a7$var$_slicedToArray2","setHeight","_useState3","_useState4","b","delay","endHandler","e","parseInt","HeightSetter","StickyHolder","VideoElement","disableRemotePlayback","$571344c5eb77b342$var$_styledComponents","$6de93a393d9683c7$var$_scrollingVideo","$95f6601a4cd41930$var$_react","stroke","strokeWidth","$95f6601a4cd41930$var$Facebook","$95f6601a4cd41930$var$Twitter","$95f6601a4cd41930$var$Whatsapp","cleanAuthorText","$64bd3a5b8ce3e5d6$var$_react","$64bd3a5b8ce3e5d6$var$s","AuthorBoxContainer","Title","AuthorText","$64bd3a5b8ce3e5d6$var$_markdownToJsx","$64bd3a5b8ce3e5d6$var$_interopRequireWildcard","$9e978d0ceec599b6$var$_styledComponents","$6de93a393d9683c7$var$_AuthorBox2","$c31f699934ab4c87$var$_react","$c31f699934ab4c87$var$s","$c31f699934ab4c87$var$_interopRequireWildcard","Number","$34e592ddc9ab0a81$var$_styledComponents","$6de93a393d9683c7$var$_darkSoulSubheader","$6de93a393d9683c7$var$_PictureTag","formatFetchedData","key","searchTerms","nestData","filteredData","$1fa33cd0bde3176e$var$_typeof2","searchTerm","nestedData","arrNumber","match","$9157050f7dee1099$var$_fetchIMSimage","$9157050f7dee1099$var$_asyncToGenerator2","$9157050f7dee1099$var$_regenerator","IMSid","bgColor","app_id","app_key","imageInformation","formattedData","process","env","app_id_prod","app_key_prod","getImageInformation","formatImageInformation","abrupt","$9157050f7dee1099$var$_getImageInformation","_callee2","response","_context2","fetch","json","t0","log","$9157050f7dee1099$var$_formatImageInformation","_callee4","altTag","_context4","language","aspectRatios","_callee3","ratio","_context3","imsUrl","sent","_x10","publicId","$9157050f7dee1099$var$_imsUrl","_callee5","cropInfo","xPos","yPos","scaleWidth","scaleHeight","scale","outputWidth","outputHeight","imageID","_context5","crops","coordinates","x","y","fetchIMSimage","$1fa33cd0bde3176e$var$_fetchIMSimage","$1fa33cd0bde3176e$var$_formatFetchedData","$1fa33cd0bde3176e$var$_asyncToGenerator2","$1fa33cd0bde3176e$var$_regenerator","imsData","aspectRatio","dataObj","imageOrVideo","styleObject","kuvasuhde","desktopAndMobileUrl","styleString","styleArray","styleKey","styleValue","slice","ignore","startsWith","endsWith","Context","createContext","$6de93a393d9683c7$var$_Context","$f1062b611d72e0c5$var$_react","$f1062b611d72e0c5$var$_interopRequireWildcard","$f1062b611d72e0c5$var$_PictureTag","$f1062b611d72e0c5$var$_VideoTag","$f1062b611d72e0c5$var$_markdownToJsx","$f1062b611d72e0c5$var$s","isTextboxInViewport","refArray","mediaOpacity","canPlay","$f1062b611d72e0c5$var$_slicedToArray2","elementInViewport","setVisibility","arrayLength","inViewport","Array","singleContainer","index","lastEl","isElementInOrAboveViewport","firstTextBoxViewportFunction","lastTextBoxViewportFunction","isTextBoxAlmostInViewport","onlyOneTextBoxViewportFunction","stringify","$f1062b611d72e0c5$var$_objectSpread","Scrolly","scrollyData","scrollyIndex","_changeScrollyHeight","navigator","userAgent","indexOf","offsetHeight","textsContainer","_useState5","_useState6","resized","newHeight","resizeWindow","singleTextContainerArray","stopRelativeAutoplayVideosWhileInScrolly","isClient","setClient","useIsClient","ScrollyContainer","widthProperty","leveys","StickyImageContainer","safariOnIOS","scrollyEl","allowPlay","playVideoOnTheseTextBoxes","i","textBoxIndex","allowVideoPlay","TextsContainer","SingleTextContainer","visibility","background","textContainerBackground","usingIosSafariOrChrome","$4a672dde1c8b73e2$var$_styledComponents","visiblity","$6de93a393d9683c7$var$_Scrolly","$5d392a26cd4d8f4c$var$_react","$6cf3e1702aa544ca$var$_react","DataProvider","effect","context","useContext","$6de93a393d9683c7$var$_slicedToArray2","setData","$6de93a393d9683c7$var$_asyncToGenerator2","$6de93a393d9683c7$var$_regenerator","data1","requests","then","useServerEffect","$1fa33cd0bde3176e$exports","wrapper","_ref3","$6de93a393d9683c7$var$_objectWithoutProperties2","$6de93a393d9683c7$var$_excluded","_e$props","SubHeader","DarkSoulNewChapter","$6de93a393d9683c7$var$DataProvider","$6de93a393d9683c7$var$_extends2","DarksoulSourceList","isArray","datas","$6de93a393d9683c7$var$_objectSpread","some","initialData","APP_NAME","Provider","MDXProvider","$147b1a3f7dc719c6$var$_nodeFetch","$7W9VJ$nodefetch","$147b1a3f7dc719c6$var$_Context","globalThis","sheet","ServerStyleSheet","markup","styleTags","html","pkg","$147b1a3f7dc719c6$var$_render","$147b1a3f7dc719c6$var$_asyncToGenerator2","$147b1a3f7dc719c6$var$_regenerator","contextValue","outputFile","ReactDOMServer","renderToString","$6de93a393d9683c7$exports","App","collectStyles","getStyleTags","fs","writeFileSync","error","seal","finish","render"],"version":3,"file":"createHTML-build.js.map","sourceRoot":"/"}